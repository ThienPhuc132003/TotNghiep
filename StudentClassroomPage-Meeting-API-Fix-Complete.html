<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>StudentClassroomPage Meeting API Fix - Test Guide</title>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        padding: 20px;
        background-color: #f5f5f5;
      }
      .test-container {
        max-width: 1000px;
        margin: 0 auto;
        background: white;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      }
      .test-header {
        text-align: center;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 2px solid #e9ecef;
      }
      .test-header h1 {
        color: #2c3e50;
        margin: 0;
        font-size: 2rem;
      }
      .test-section {
        margin: 20px 0;
        padding: 20px;
        border: 1px solid #dee2e6;
        border-radius: 8px;
        background: #f8f9fa;
      }
      .test-section h3 {
        color: #495057;
        margin-top: 0;
      }
      .code-block {
        background: #2d3748;
        color: #e2e8f0;
        padding: 16px;
        border-radius: 8px;
        font-family: "Consolas", "Monaco", monospace;
        font-size: 0.9rem;
        overflow-x: auto;
        margin: 12px 0;
      }
      .status-list {
        list-style: none;
        padding: 0;
      }
      .status-list li {
        padding: 8px 12px;
        margin: 4px 0;
        border-radius: 6px;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .status-success {
        background: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
      }
      .status-warning {
        background: #fff3cd;
        color: #856404;
        border: 1px solid #ffeaa7;
      }
      .status-info {
        background: #d1ecf1;
        color: #0c5460;
        border: 1px solid #bee5eb;
      }
      .icon {
        font-weight: bold;
        font-size: 1.1em;
      }
      .api-flow {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 20px;
        border-radius: 8px;
        margin: 20px 0;
      }
      .api-flow h3 {
        margin-top: 0;
        color: white;
      }
    </style>
  </head>
  <body>
    <div class="test-container">
      <div class="test-header">
        <h1>StudentClassroomPage Meeting API - ÄÃ£ Sá»­a Xong âœ…</h1>
        <p>
          Cáº­p nháº­t nÃºt "Danh sÃ¡ch phÃ²ng há»c" sá»­ dá»¥ng API meeting/get-meeting
          Ä‘Ãºng cÃ¡ch
        </p>
      </div>

      <div class="test-section">
        <h3>ğŸ”§ Nhá»¯ng gÃ¬ Ä‘Ã£ sá»­a</h3>
        <ul class="status-list">
          <li class="status-success">
            <span class="icon">âœ…</span>
            Cáº­p nháº­t function <code>handleViewMeetings</code> sá»­ dá»¥ng
            <code>Api.callApi()</code> thay vÃ¬ <code>Api()</code>
          </li>
          <li class="status-success">
            <span class="icon">âœ…</span>
            Sá»­a cÃ¡ch gá»i API meeting/get-meeting vá»›i pagination Ä‘Ãºng format
          </li>
          <li class="status-success">
            <span class="icon">âœ…</span>
            ThÃªm proper error handling vÃ  logging chi tiáº¿t
          </li>
          <li class="status-success">
            <span class="icon">âœ…</span>
            Cáº­p nháº­t restore meeting view tá»« URL params
          </li>
          <li class="status-success">
            <span class="icon">âœ…</span>
            ThÃªm URL state management Ä‘á»ƒ maintain deep linking
          </li>
        </ul>
      </div>

      <div class="api-flow">
        <h3>ğŸ“Š API Call Flow - meeting/get-meeting</h3>
        <div class="code-block">
          // CÃ¡ch gá»i API Ä‘Ã£ Ä‘Æ°á»£c sá»­a: const response = await Api.callApi(
          "/meeting/get-meeting", METHOD_TYPE.GET, { classroomId: classroomId,
          // ID cá»§a lá»›p há»c page: page - 1, // 0-based pagination size:
          meetingsPerPage, // Sá»‘ meeting per page (default: 2) } ); // Response
          structure expected: { success: true, data: { content: [...meetings],
          // Hoáº·c items: [...meetings] totalElements: number, // Hoáº·c total:
          number totalPages: number, number: number, size: number } }
        </div>
      </div>

      <div class="test-section">
        <h3>ğŸ” Testing Guide</h3>
        <ul class="status-list">
          <li class="status-info">
            <span class="icon">1ï¸âƒ£</span>
            <strong>VÃ o trang lá»›p há»c cá»§a há»c sinh</strong>
          </li>
          <li class="status-info">
            <span class="icon">2ï¸âƒ£</span>
            <strong>Click vÃ o má»™t lá»›p há»c Ä‘á»ƒ xem chi tiáº¿t</strong>
          </li>
          <li class="status-info">
            <span class="icon">3ï¸âƒ£</span>
            <strong>Click nÃºt "Xem danh sÃ¡ch phÃ²ng há»c"</strong>
          </li>
          <li class="status-info">
            <span class="icon">4ï¸âƒ£</span>
            <strong>Kiá»ƒm tra Console logs Ä‘á»ƒ xem API calls</strong>
          </li>
          <li class="status-info">
            <span class="icon">5ï¸âƒ£</span>
            <strong>Verify danh sÃ¡ch meetings hiá»ƒn thá»‹ Ä‘Ãºng</strong>
          </li>
        </ul>
      </div>

      <div class="test-section">
        <h3>ğŸ› Debug Information</h3>
        <p>Náº¿u cÃ³ lá»—i, hÃ£y kiá»ƒm tra Console logs Ä‘á»ƒ xem:</p>
        <div class="code-block">
          // Logs Ä‘á»ƒ debug: ğŸ” Fetching meetings for classroom {classroomId}
          using meeting/get-meeting endpoint ğŸ“Š Active meeting tab:
          {activeMeetingTab} ğŸ“¥ Meeting API response: {response} ğŸ“‹ Found
          {count} meetings (total: {total}) âœ… Restored meeting view with
          {count} meetings
        </div>
      </div>

      <div class="test-section">
        <h3>âš¡ Key Improvements</h3>
        <ul class="status-list">
          <li class="status-success">
            <span class="icon">ğŸ“¦</span>
            <strong>Consistent API calling:</strong> Sá»­ dá»¥ng Api.callApi() thá»‘ng
            nháº¥t vá»›i rest cá»§a app
          </li>
          <li class="status-success">
            <span class="icon">ğŸ”„</span>
            <strong>Proper pagination:</strong> Support 0-based pagination vÃ 
            page size
          </li>
          <li class="status-success">
            <span class="icon">ğŸ›¡ï¸</span>
            <strong>Better error handling:</strong> PhÃ¢n biá»‡t 404 vs other
            errors
          </li>
          <li class="status-success">
            <span class="icon">ğŸ”—</span>
            <strong>URL state:</strong> Maintain meeting view state trong URL
          </li>
          <li class="status-success">
            <span class="icon">ğŸ“Š</span>
            <strong>Flexible response:</strong> Support cáº£ content/items vÃ 
            totalElements/total
          </li>
        </ul>
      </div>

      <div class="test-section">
        <h3>ğŸ¯ Expected Behavior</h3>
        <div class="code-block">
          1. Click "Xem danh sÃ¡ch phÃ²ng há»c" â†’ API call to /meeting/get-meeting
          vá»›i classroomId â†’ Hiá»ƒn thá»‹ danh sÃ¡ch meetings/phÃ²ng há»c â†’ URL update:
          ?view=meetings&classroomId=...&classroomName=... 2. Refresh page â†’
          Automatically restore meeting view tá»« URL â†’ Re-fetch meeting data 3.
          Pagination â†’ Load meetings theo page vá»›i proper API calls â†’ Maintain
          state vÃ  URL 4. Error handling â†’ 404: "ChÆ°a cÃ³ phÃ²ng há»c nÃ o Ä‘Æ°á»£c táº¡o"
          â†’ Other errors: "KhÃ´ng thá»ƒ táº£i danh sÃ¡ch phÃ²ng há»c"
        </div>
      </div>

      <div class="api-flow">
        <h3>âœ… Completion Summary</h3>
        <p>
          <strong>âœ… API integration fixed</strong> - meeting/get-meeting Ä‘Æ°á»£c
          gá»i Ä‘Ãºng format
        </p>
        <p>
          <strong>âœ… Error handling improved</strong> - Better UX vá»›i meaningful
          error messages
        </p>
        <p>
          <strong>âœ… State management</strong> - URL deep linking vÃ  restore
          functionality
        </p>
        <p>
          <strong>âœ… Logging added</strong> - Debug information Ä‘á»ƒ troubleshoot
        </p>
        <p>
          <strong>âœ… No compile errors</strong> - Code clean vÃ  ready for
          testing
        </p>
      </div>
    </div>
  </body>
</html>
