<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test Rating Functionality - Student Classroom</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f5f5f5;
      }
      .test-container {
        background: white;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 20px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .test-steps {
        background-color: #e3f2fd;
        padding: 15px;
        border-radius: 6px;
        margin: 15px 0;
      }
      .test-steps h3 {
        color: #1976d2;
        margin-top: 0;
      }
      .step {
        margin: 10px 0;
        padding: 8px;
        background: rgba(255, 255, 255, 0.7);
        border-radius: 4px;
        border-left: 4px solid #2196f3;
      }
      .checklist {
        background-color: #f3e5f5;
        padding: 15px;
        border-radius: 6px;
        margin: 15px 0;
      }
      .checklist h3 {
        color: #7b1fa2;
        margin-top: 0;
      }
      .check-item {
        margin: 8px 0;
        padding: 6px;
        background: rgba(255, 255, 255, 0.7);
        border-radius: 4px;
      }
      .check-item input[type="checkbox"] {
        margin-right: 10px;
        transform: scale(1.2);
      }
      .api-info {
        background-color: #e8f5e8;
        padding: 15px;
        border-radius: 6px;
        margin: 15px 0;
      }
      .api-info h3 {
        color: #388e3c;
        margin-top: 0;
      }
      .code-block {
        background: #263238;
        color: #eeffff;
        padding: 12px;
        border-radius: 4px;
        font-family: "Courier New", monospace;
        overflow-x: auto;
        margin: 10px 0;
      }
      .warning {
        background-color: #fff3e0;
        border: 1px solid #ffb74d;
        padding: 12px;
        border-radius: 4px;
        margin: 15px 0;
      }
      .success {
        background-color: #e8f5e8;
        border: 1px solid #81c784;
        padding: 12px;
        border-radius: 4px;
        margin: 15px 0;
      }
      .feature-summary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 20px;
      }
      .url-link {
        display: inline-block;
        background: #2196f3;
        color: white;
        padding: 10px 20px;
        border-radius: 4px;
        text-decoration: none;
        margin: 10px 5px;
      }
      .url-link:hover {
        background: #1976d2;
      }
    </style>
  </head>
  <body>
    <div class="feature-summary">
      <h1>üåü Test Ch·ª©c NƒÉng Rating Ph√≤ng H·ªçc - Student</h1>
      <p>
        Ki·ªÉm tra to√†n b·ªô lu·ªìng ƒë√°nh gi√° ph√≤ng h·ªçc cho h·ªçc vi√™n sau khi ho√†n
        th√†nh meeting
      </p>
      <p>
        <strong>‚úÖ Ho√†n th√†nh:</strong> State management, UI components, API
        integration, validation
      </p>
      <p>
        <strong>üîÑ C·∫ßn test:</strong> End-to-end rating flow, UI/UX, data
        persistence
      </p>
    </div>

    <div class="test-container">
      <h2>üöÄ Quick Access Links</h2>
      <a href="http://localhost:5174" class="url-link" target="_blank">
        üè† Application Home
      </a>
      <a href="http://localhost:5174/login" class="url-link" target="_blank">
        üîê Login Page
      </a>
      <a
        href="http://localhost:5174/student-classroom"
        class="url-link"
        target="_blank"
      >
        üéì Student Classroom
      </a>
    </div>

    <div class="test-container">
      <div class="test-steps">
        <h3>üìã Test Steps - Lu·ªìng Rating Ph√≤ng H·ªçc</h3>

        <div class="step">
          <strong>Step 1:</strong> ƒêƒÉng nh·∫≠p v·ªõi t√†i kho·∫£n h·ªçc vi√™n
          <div class="code-block">
            Truy c·∫≠p: http://localhost:5174/login ƒêƒÉng nh·∫≠p v·ªõi role: student
          </div>
        </div>

        <div class="step">
          <strong>Step 2:</strong> Truy c·∫≠p trang l·ªõp h·ªçc c·ªßa h·ªçc vi√™n
          <div class="code-block">
            URL: http://localhost:5174/student-classroom Ki·ªÉm tra: Hi·ªÉn th·ªã danh
            s√°ch l·ªõp h·ªçc (tabs: ƒêang ho·∫°t ƒë·ªông / ƒê√£ k·∫øt th√∫c)
          </div>
        </div>

        <div class="step">
          <strong>Step 3:</strong> Xem meetings c·ªßa m·ªôt l·ªõp h·ªçc
          <div class="code-block">
            Click: "Xem danh s√°ch ph√≤ng h·ªçc" tr√™n b·∫•t k·ª≥ classroom n√†o Verify:
            Meetings hi·ªÉn th·ªã t·ª´ API meeting/get-meeting Path:
            response.data.result.items (ƒë√£ fix)
          </div>
        </div>

        <div class="step">
          <strong>Step 4:</strong> Ki·ªÉm tra n√∫t ƒë√°nh gi√°
          <div class="code-block">
            N·∫øu classroom.isRating = false: Hi·ªÉn th·ªã n√∫t "ƒê√°nh gi√°" N·∫øu
            classroom.isRating = true: Hi·ªÉn th·ªã s·ªë sao ƒë√£ ƒë√°nh gi√°
          </div>
        </div>

        <div class="step">
          <strong>Step 5:</strong> Test Rating Modal
          <div class="code-block">
            Click n√∫t "ƒê√°nh gi√°" ‚Üí Rating Modal xu·∫•t hi·ªán Verify: Meeting info,
            tutor info, star rating (h·ªó tr·ª£ n·ª≠a sao) Verify: Description
            textarea v·ªõi validation
          </div>
        </div>

        <div class="step">
          <strong>Step 6:</strong> Submit Rating
          <div class="code-block">
            Ch·ªçn s·ªë sao (1-5, h·ªó tr·ª£ n·ª≠a sao) Nh·∫≠p m√¥ t·∫£ ƒë√°nh gi√° Click "G·ª≠i
            ƒë√°nh gi√°" Verify: API call to
            classroom-assessment/create/:classroomId
          </div>
        </div>

        <div class="step">
          <strong>Step 7:</strong> Verify Results
          <div class="code-block">
            Verify: Toast success message Verify: Modal closes Verify: Classroom
            list refreshes Verify: isRating flag updates to true Verify: Star
            rating hi·ªÉn th·ªã thay v√¨ n√∫t rating
          </div>
        </div>
      </div>
    </div>

    <div class="test-container">
      <div class="checklist">
        <h3>‚úÖ Feature Checklist</h3>

        <div class="check-item">
          <input type="checkbox" id="check1" checked />
          <label for="check1"
            >State management cho rating modal (showRatingModal,
            selectedMeetingForRating, etc.)</label
          >
        </div>

        <div class="check-item">
          <input type="checkbox" id="check2" checked />
          <label for="check2"
            >StarRating component v·ªõi h·ªó tr·ª£ n·ª≠a sao v√† readonly mode</label
          >
        </div>

        <div class="check-item">
          <input type="checkbox" id="check3" checked />
          <label for="check3"
            >RatingModal component v·ªõi validation v√† loading states</label
          >
        </div>

        <div class="check-item">
          <input type="checkbox" id="check4" checked />
          <label for="check4"
            >CSS styling cho modal v√† star rating (RatingModal.style.css)</label
          >
        </div>

        <div class="check-item">
          <input type="checkbox" id="check5" checked />
          <label for="check5"
            >Meeting display fix (response.data.result.items path)</label
          >
        </div>

        <div class="check-item">
          <input type="checkbox" id="check6" checked />
          <label for="check6"
            >Rating functions: handleOpenRatingModal, handleSubmitRating,
            etc.</label
          >
        </div>

        <div class="check-item">
          <input type="checkbox" id="check7" />
          <label for="check7"
            >‚è≥ End-to-end testing: t·ª´ click rating button ƒë·∫øn API
            success</label
          >
        </div>

        <div class="check-item">
          <input type="checkbox" id="check8" />
          <label for="check8"
            >‚è≥ UI/UX testing: modal responsive, star animation, validation
            feedback</label
          >
        </div>

        <div class="check-item">
          <input type="checkbox" id="check9" />
          <label for="check9"
            >‚è≥ Data persistence: classroom list refresh sau khi rating</label
          >
        </div>

        <div class="check-item">
          <input type="checkbox" id="check10" />
          <label for="check10"
            >‚è≥ Edge case testing: validation errors, API errors, network
            issues</label
          >
        </div>
      </div>
    </div>

    <div class="test-container">
      <div class="api-info">
        <h3>üîå API Information</h3>

        <h4>Rating Submission API:</h4>
        <div class="code-block">
          POST /classroom-assessment/create/:classroomId Headers: Authorization:
          Bearer {token} Body: { "tutorId": "string", "classroomEvaluation":
          number, // 1-5, h·ªó tr·ª£ 0.5 "description": "string", "meetingId":
          "string" }
        </div>

        <h4>Expected Response:</h4>
        <div class="code-block">
          { "success": true, "message": "Rating submitted successfully", "data":
          { ... } }
        </div>

        <h4>Meeting Data Source:</h4>
        <div class="code-block">
          GET /meeting/get-meeting?classroomId={id} Response Path:
          response.data.result.items
        </div>
      </div>
    </div>

    <div class="test-container">
      <div class="warning">
        <h3>‚ö†Ô∏è Known Issues & Notes</h3>
        <ul>
          <li>
            Build script c√≥ v·∫•n ƒë·ªÅ v·ªõi rm command tr√™n Windows (not critical for
            dev)
          </li>
          <li>Props validation warning cho StarRating ƒë√£ ƒë∆∞·ª£c fix</li>
          <li>
            Parameter 'classroom' trong handleViewMeetings ƒë∆∞·ª£c s·ª≠ d·ª•ng nh∆∞ng
            lint b√°o warning
          </li>
          <li>Dev server ch·∫°y tr√™n port 5174 (5173 ƒë√£ b·ªã s·ª≠ d·ª•ng)</li>
        </ul>
      </div>
    </div>

    <div class="test-container">
      <div class="success">
        <h3>üéØ Test Objectives</h3>
        <ol>
          <li>
            <strong>Functional Testing:</strong> Rating workflow ho·∫°t ƒë·ªông t·ª´
            ƒë·∫ßu ƒë·∫øn cu·ªëi
          </li>
          <li>
            <strong>UI Testing:</strong> Modal, star rating, form validation
            hi·ªÉn th·ªã ƒë√∫ng
          </li>
          <li>
            <strong>API Testing:</strong> POST request g·ª≠i ƒë√∫ng data, handle
            response
          </li>
          <li>
            <strong>State Management:</strong> Component state update ƒë√∫ng sau
            rating
          </li>
          <li>
            <strong>Data Persistence:</strong> Classroom list refresh v√† hi·ªÉn
            th·ªã isRating = true
          </li>
          <li>
            <strong>UX Testing:</strong> Loading states, success feedback, error
            handling
          </li>
        </ol>
      </div>
    </div>

    <div class="test-container">
      <h3>üêõ Debug Console Commands</h3>
      <p>M·ªü browser console v√† s·ª≠ d·ª•ng c√°c commands sau ƒë·ªÉ debug:</p>

      <div class="code-block">
        // Ki·ªÉm tra state c·ªßa rating modal console.log("Rating Modal State:", {
        showRatingModal: window.ratingState?.showRatingModal, selectedMeeting:
        window.ratingState?.selectedMeetingForRating, classroom:
        window.ratingState?.currentClassroomForRating }); // Mock rating
        submission ƒë·ªÉ test UI const mockRating = { tutorId: "test-tutor-id",
        classroomEvaluation: 4.5, description: "Test rating description",
        meetingId: "test-meeting-id" }; console.log("Mock Rating Data:",
        mockRating); // Check local storage for authentication console.log("Auth
        Token:", localStorage.getItem('token')); console.log("User Profile:",
        JSON.parse(localStorage.getItem('userProfile') || '{}'));
      </div>
    </div>

    <script>
      // Add some interactive functionality
      document
        .querySelectorAll('.check-item input[type="checkbox"]')
        .forEach((checkbox) => {
          checkbox.addEventListener("change", function () {
            const label = this.nextElementSibling;
            if (this.checked) {
              label.style.textDecoration = "line-through";
              label.style.opacity = "0.7";
            } else {
              label.style.textDecoration = "none";
              label.style.opacity = "1";
            }
          });
        });

      // Initialize already checked items
      document
        .querySelectorAll('.check-item input[type="checkbox"]:checked')
        .forEach((checkbox) => {
          const label = checkbox.nextElementSibling;
          label.style.textDecoration = "line-through";
          label.style.opacity = "0.7";
        });

      // Add click to copy functionality for code blocks
      document.querySelectorAll(".code-block").forEach((block) => {
        block.style.cursor = "pointer";
        block.title = "Click to copy";
        block.addEventListener("click", function () {
          navigator.clipboard.writeText(this.textContent).then(() => {
            const originalBg = this.style.backgroundColor;
            this.style.backgroundColor = "#4caf50";
            setTimeout(() => {
              this.style.backgroundColor = originalBg;
            }, 500);
          });
        });
      });

      console.log("üåü Rating Test Guide Loaded");
      console.log("üìù Click any code block to copy to clipboard");
      console.log("‚úÖ Check off completed test items");
    </script>
  </body>
</html>
