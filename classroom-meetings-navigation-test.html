<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test Navigation - T√°ch Trang L·ªõp H·ªçc v√† Ph√≤ng H·ªçc</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
        background-color: #f5f5f5;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .page-section {
        margin-bottom: 30px;
        padding: 20px;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
      }
      .page-title {
        color: #2c5aa0;
        border-bottom: 2px solid #2c5aa0;
        padding-bottom: 10px;
        margin-bottom: 20px;
      }
      .classroom-card,
      .meeting-card {
        background: #f8f9fa;
        padding: 15px;
        margin: 10px 0;
        border-radius: 6px;
        border-left: 4px solid #28a745;
      }
      .button {
        background: #007bff;
        color: white;
        padding: 8px 16px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        margin: 5px;
      }
      .button:hover {
        background: #0056b3;
      }
      .create-button {
        background: #28a745;
      }
      .create-button:hover {
        background: #1e7e34;
      }
      .back-button {
        background: #6c757d;
      }
      .back-button:hover {
        background: #545b62;
      }
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1000;
      }
      .modal-content {
        background: white;
        width: 500px;
        margin: 10% auto;
        padding: 20px;
        border-radius: 8px;
      }
      .modal-header {
        border-bottom: 1px solid #e0e0e0;
        padding-bottom: 10px;
        margin-bottom: 15px;
      }
      .form-group {
        margin-bottom: 15px;
      }
      .form-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
      }
      .form-group input,
      .form-group textarea {
        width: 100%;
        padding: 8px;
        border: 1px solid #ddd;
        border-radius: 4px;
      }
      .success-message {
        background: #d4edda;
        color: #155724;
        padding: 10px;
        border-radius: 4px;
        margin: 10px 0;
        display: none;
      }
      .breadcrumb {
        background: #e9ecef;
        padding: 10px;
        margin-bottom: 20px;
        border-radius: 4px;
      }
      .current-page {
        background: #007bff;
        color: white;
        padding: 10px 20px;
        border-radius: 4px;
        margin-bottom: 15px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üß™ Test Navigation - T√°ch Trang L·ªõp H·ªçc v√† Ph√≤ng H·ªçc</h1>

      <!-- Trang 1: Danh s√°ch L·ªõp h·ªçc -->
      <div id="classroomListPage" class="page-section">
        <div class="current-page">üìö TRANG HI·ªÜN T·∫†I: Qu·∫£n l√Ω L·ªõp h·ªçc</div>
        <h2 class="page-title">Danh s√°ch L·ªõp h·ªçc c·ªßa Gia s∆∞</h2>
        <p>
          <strong>Path:</strong> <code>/tai-khoan/ho-so/quan-ly-lop-hoc</code>
        </p>

        <div class="classroom-card">
          <h4>üéì L·ªõp To√°n 12 - √în thi THPT</h4>
          <p><strong>Tr·∫°ng th√°i:</strong> ƒêang ho·∫°t ƒë·ªông</p>
          <p><strong>H·ªçc sinh:</strong> 15 ng∆∞·ªùi</p>
          <button
            class="button"
            onclick="viewMeetings('classroom1', 'L·ªõp To√°n 12 - √în thi THPT')"
          >
            üëÅÔ∏è Xem ph√≤ng h·ªçc
          </button>
        </div>

        <div class="classroom-card">
          <h4>üßÆ L·ªõp To√°n 11 - CƒÉn b·∫£n</h4>
          <p><strong>Tr·∫°ng th√°i:</strong> ƒêang ho·∫°t ƒë·ªông</p>
          <p><strong>H·ªçc sinh:</strong> 8 ng∆∞·ªùi</p>
          <button
            class="button"
            onclick="viewMeetings('classroom2', 'L·ªõp To√°n 11 - CƒÉn b·∫£n')"
          >
            üëÅÔ∏è Xem ph√≤ng h·ªçc
          </button>
        </div>

        <div class="classroom-card">
          <h4>üìê L·ªõp H√¨nh h·ªçc 10</h4>
          <p><strong>Tr·∫°ng th√°i:</strong> ƒê√£ k·∫øt th√∫c</p>
          <p><strong>H·ªçc sinh:</strong> 12 ng∆∞·ªùi</p>
          <button
            class="button"
            onclick="viewMeetings('classroom3', 'L·ªõp H√¨nh h·ªçc 10')"
          >
            üëÅÔ∏è Xem ph√≤ng h·ªçc
          </button>
        </div>
      </div>

      <!-- Trang 2: Qu·∫£n l√Ω Ph√≤ng h·ªçc -->
      <div id="meetingsPage" class="page-section" style="display: none">
        <div class="current-page">üè´ TRANG HI·ªÜN T·∫†I: Qu·∫£n l√Ω Ph√≤ng h·ªçc</div>
        <h2 class="page-title">
          Ph√≤ng h·ªçc c·ªßa <span id="selectedClassName"></span>
        </h2>
        <p>
          <strong>Path:</strong> <code>/tai-khoan/ho-so/quan-ly-phong-hoc</code>
        </p>

        <div class="breadcrumb">
          <span
            onclick="backToClassroomList()"
            style="cursor: pointer; color: #007bff"
            >üìö Danh s√°ch l·ªõp h·ªçc</span
          >
          > <strong id="breadcrumbClassName"></strong>
        </div>

        <button class="button create-button" onclick="openCreateMeetingModal()">
          ‚ûï T·∫°o ph√≤ng h·ªçc m·ªõi
        </button>

        <div id="meetingsList">
          <!-- Danh s√°ch ph√≤ng h·ªçc s·∫Ω ƒë∆∞·ª£c load ·ªü ƒë√¢y -->
        </div>

        <button class="button back-button" onclick="backToClassroomList()">
          ‚¨ÖÔ∏è Quay l·∫°i danh s√°ch l·ªõp h·ªçc
        </button>
      </div>

      <!-- Modal t·∫°o ph√≤ng h·ªçc (CH·ªà xu·∫•t hi·ªán ·ªü trang meetings) -->
      <div id="createMeetingModal" class="modal">
        <div class="modal-content">
          <div class="modal-header">
            <h3>‚ûï T·∫°o ph√≤ng h·ªçc m·ªõi</h3>
            <p>L·ªõp: <strong id="modalClassName"></strong></p>
          </div>

          <form id="createMeetingForm">
            <div class="form-group">
              <label for="meetingTopic">Ch·ªß ƒë·ªÅ ph√≤ng h·ªçc:</label>
              <input
                type="text"
                id="meetingTopic"
                placeholder="VD: √în t·∫≠p ch∆∞∆°ng 1 - H√†m s·ªë"
                required
              />
            </div>

            <div class="form-group">
              <label for="meetingPassword">M·∫≠t kh·∫©u ph√≤ng h·ªçc:</label>
              <input
                type="text"
                id="meetingPassword"
                placeholder="VD: math123"
                required
              />
            </div>

            <div class="form-group">
              <label for="meetingDescription">M√¥ t·∫£ (t√πy ch·ªçn):</label>
              <textarea
                id="meetingDescription"
                rows="3"
                placeholder="M√¥ t·∫£ n·ªôi dung bu·ªïi h·ªçc..."
              ></textarea>
            </div>

            <div style="text-align: right; margin-top: 20px">
              <button
                type="button"
                class="button back-button"
                onclick="closeCreateMeetingModal()"
              >
                ‚ùå H·ªßy
              </button>
              <button type="submit" class="button create-button">
                ‚úÖ T·∫°o ph√≤ng h·ªçc
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- Th√¥ng b√°o th√†nh c√¥ng -->
      <div id="successMessage" class="success-message">
        ‚úÖ T·∫°o ph√≤ng h·ªçc th√†nh c√¥ng! Ph√≤ng h·ªçc ƒë√£ ƒë∆∞·ª£c th√™m v√†o danh s√°ch.
      </div>
    </div>

    <script>
      let currentClassroomId = null;
      let currentClassName = "";

      // Test data cho meetings
      const meetingsData = {
        classroom1: [
          {
            id: "m1",
            topic: "√în t·∫≠p ƒê·∫°o h√†m",
            status: "IN_SESSION",
            date: "2025-06-20",
          },
          {
            id: "m2",
            topic: "B√†i t·∫≠p T√≠ch ph√¢n",
            status: "ENDED",
            date: "2025-06-18",
          },
          {
            id: "m3",
            topic: "Ki·ªÉm tra 15 ph√∫t",
            status: "PENDING",
            date: "2025-06-22",
          },
        ],
        classroom2: [
          {
            id: "m4",
            topic: "H√†m s·ªë b·∫≠c 2",
            status: "IN_SESSION",
            date: "2025-06-19",
          },
          {
            id: "m5",
            topic: "Ph∆∞∆°ng tr√¨nh b·∫≠c 2",
            status: "ENDED",
            date: "2025-06-17",
          },
        ],
        classroom3: [
          {
            id: "m6",
            topic: "H√¨nh h·ªçc kh√¥ng gian",
            status: "ENDED",
            date: "2025-06-10",
          },
          {
            id: "m7",
            topic: "Th·ªÉ t√≠ch kh·ªëi ƒëa di·ªán",
            status: "ENDED",
            date: "2025-06-12",
          },
        ],
      };

      // Navigation: Chuy·ªÉn sang trang meetings
      function viewMeetings(classroomId, className) {
        console.log(`üöÄ Navigation: ${className} ‚Üí Trang ph√≤ng h·ªçc`);

        currentClassroomId = classroomId;
        currentClassName = className;

        // Hide classroom list page
        document.getElementById("classroomListPage").style.display = "none";

        // Show meetings page
        document.getElementById("meetingsPage").style.display = "block";

        // Update page title and breadcrumb
        document.getElementById("selectedClassName").textContent = className;
        document.getElementById("breadcrumbClassName").textContent = className;

        // Load meetings for this classroom
        loadMeetings(classroomId);
      }

      // Navigation: Quay l·∫°i trang danh s√°ch l·ªõp h·ªçc
      function backToClassroomList() {
        console.log("üîô Navigation: Quay l·∫°i danh s√°ch l·ªõp h·ªçc");

        // Hide meetings page
        document.getElementById("meetingsPage").style.display = "none";

        // Show classroom list page
        document.getElementById("classroomListPage").style.display = "block";

        // Reset states
        currentClassroomId = null;
        currentClassName = "";

        // Close modal if open
        closeCreateMeetingModal();
      }

      // Load meetings cho classroom c·ª• th·ªÉ
      function loadMeetings(classroomId) {
        const meetings = meetingsData[classroomId] || [];
        const meetingsList = document.getElementById("meetingsList");

        if (meetings.length === 0) {
          meetingsList.innerHTML =
            "<p>Ch∆∞a c√≥ ph√≤ng h·ªçc n√†o. H√£y t·∫°o ph√≤ng h·ªçc ƒë·∫ßu ti√™n!</p>";
          return;
        }

        meetingsList.innerHTML = meetings
          .map(
            (meeting) => `
                <div class="meeting-card">
                    <h4>üè´ ${meeting.topic}</h4>
                    <p><strong>Tr·∫°ng th√°i:</strong> ${getStatusText(
                      meeting.status
                    )}</p>
                    <p><strong>Ng√†y:</strong> ${meeting.date}</p>
                    <button class="button">üìπ V√†o ph√≤ng h·ªçc</button>
                    <button class="button back-button">üóëÔ∏è X√≥a</button>
                </div>
            `
          )
          .join("");
      }

      // Modal: M·ªü modal t·∫°o ph√≤ng h·ªçc (CH·ªà ·ªü trang meetings)
      function openCreateMeetingModal() {
        if (!currentClassroomId) {
          alert("‚ùå L·ªói: Kh√¥ng x√°c ƒë·ªãnh ƒë∆∞·ª£c l·ªõp h·ªçc!");
          return;
        }

        console.log(`üìù M·ªü modal t·∫°o ph√≤ng h·ªçc cho: ${currentClassName}`);

        // Update modal title
        document.getElementById("modalClassName").textContent =
          currentClassName;

        // Show modal
        document.getElementById("createMeetingModal").style.display = "block";
      }

      // Modal: ƒê√≥ng modal
      function closeCreateMeetingModal() {
        document.getElementById("createMeetingModal").style.display = "none";
        document.getElementById("createMeetingForm").reset();
      }

      // Form: Submit t·∫°o ph√≤ng h·ªçc
      document
        .getElementById("createMeetingForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const topic = document.getElementById("meetingTopic").value;
          const password = document.getElementById("meetingPassword").value;
          const description =
            document.getElementById("meetingDescription").value;

          console.log("üéØ T·∫°o ph√≤ng h·ªçc:", {
            classroomId: currentClassroomId,
            className: currentClassName,
            topic,
            password,
            description,
          });

          // Simulate API call
          setTimeout(() => {
            // Add new meeting to data
            if (!meetingsData[currentClassroomId]) {
              meetingsData[currentClassroomId] = [];
            }

            meetingsData[currentClassroomId].unshift({
              id: "m" + Date.now(),
              topic: topic,
              status: "PENDING",
              date: new Date().toISOString().split("T")[0],
            });

            // Close modal
            closeCreateMeetingModal();

            // Show success message
            const successMessage = document.getElementById("successMessage");
            successMessage.style.display = "block";
            setTimeout(() => {
              successMessage.style.display = "none";
            }, 3000);

            // Reload meetings list
            loadMeetings(currentClassroomId);

            console.log("‚úÖ T·∫°o ph√≤ng h·ªçc th√†nh c√¥ng!");
          }, 1000);
        });

      // Helper functions
      function getStatusText(status) {
        switch (status) {
          case "IN_SESSION":
            return "üî¥ ƒêang di·ªÖn ra";
          case "PENDING":
            return "üü° Ch∆∞a b·∫Øt ƒë·∫ßu";
          case "ENDED":
            return "‚ö´ ƒê√£ k·∫øt th√∫c";
          default:
            return "‚ùì Kh√¥ng x√°c ƒë·ªãnh";
        }
      }

      // Close modal when clicking outside
      document
        .getElementById("createMeetingModal")
        .addEventListener("click", function (e) {
          if (e.target === this) {
            closeCreateMeetingModal();
          }
        });

      console.log("üß™ Navigation Test Ready!");
      console.log('‚úÖ Modal ch·ªâ xu·∫•t hi·ªán khi ·ªü trang "Qu·∫£n l√Ω ph√≤ng h·ªçc"');
      console.log("‚úÖ Navigation ho·∫°t ƒë·ªông gi·ªØa 2 trang ri√™ng bi·ªát");
    </script>
  </body>
</html>
