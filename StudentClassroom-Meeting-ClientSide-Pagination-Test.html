<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Test Guide: StudentClassroomPage Meeting v·ªõi Client-Side Pagination
    </title>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        line-height: 1.6;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: #333;
      }
      .container {
        background: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }
      h1 {
        color: #2c3e50;
        text-align: center;
        margin-bottom: 30px;
        font-size: 2.5em;
      }
      h2 {
        color: #34495e;
        border-left: 4px solid #3498db;
        padding-left: 15px;
        margin-top: 30px;
      }
      h3 {
        color: #2980b9;
        margin-top: 25px;
      }
      .test-section {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        border-left: 4px solid #28a745;
      }
      .api-info {
        background: #e3f2fd;
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
        border-left: 4px solid #2196f3;
      }
      .expected-result {
        background: #f1f8e9;
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
        border-left: 4px solid #4caf50;
      }
      .warning {
        background: #fff3cd;
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
        border-left: 4px solid #ffc107;
      }
      .code-block {
        background: #2d3748;
        color: #e2e8f0;
        padding: 15px;
        border-radius: 8px;
        font-family: "Courier New", monospace;
        overflow-x: auto;
        margin: 10px 0;
      }
      .step {
        margin: 15px 0;
        padding: 10px;
        background: #ffffff;
        border: 1px solid #dee2e6;
        border-radius: 5px;
      }
      .step-number {
        background: #007bff;
        color: white;
        width: 25px;
        height: 25px;
        border-radius: 50%;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        margin-right: 10px;
        font-weight: bold;
      }
      .feature-list {
        list-style: none;
        padding: 0;
      }
      .feature-list li {
        padding: 8px 0;
        border-bottom: 1px solid #eee;
      }
      .feature-list li:before {
        content: "‚úì";
        color: #28a745;
        font-weight: bold;
        margin-right: 10px;
      }
      .url-example {
        background: #f8f9fa;
        padding: 10px;
        border-radius: 5px;
        font-family: monospace;
        border: 1px solid #dee2e6;
        margin: 10px 0;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>
        üß™ Test Guide: StudentClassroomPage Meeting v·ªõi Client-Side Pagination
      </h1>

      <div class="api-info">
        <h3>üì° API Response Structure (ƒê√£ Verified)</h3>
        <div class="code-block">
          GET /meeting/get-meeting?classroomId={id} Response: { "status": "OK",
          "code": 200, "success": true, "message": "Get meeting successfully",
          "data": { "result": { "total": 5, "items": [ { "meetingId":
          "52a4f229-fb9e-45b7-ab98-546fc5e2f14f", "zoomMeetingId":
          "79516124830", "topic": "L·ªõp h·ªçc: L·ªõp h·ªçc v·ªõi gia s∆∞ Nguy·ªÖn VƒÉn An",
          "startTime": "2025-06-07T01:32:37.000Z", "duration": 1, "endTime":
          "2025-06-07T01:33:45.000Z", "joinUrl":
          "https://us04web.zoom.us/j/79516124830?pwd=...", "password": "123",
          "classroomId": "0d27f835-83e7-408f-b2ab-d932450afc95", "status":
          "ENDED", "isRating": false } // ... more meetings ] } } }
        </div>
      </div>

      <div class="test-section">
        <h2>üéØ Features Implemented</h2>
        <ul class="feature-list">
          <li>
            API g·ªçi meeting/get-meeting ch·ªâ truy·ªÅn classroomId (kh√¥ng pagination
            server-side)
          </li>
          <li>L·∫•y data t·ª´ response.data.result.items (gi·ªëng lu·ªìng gia s∆∞)</li>
          <li>Client-side pagination v·ªõi meetingsPerPage = 2</li>
          <li>Client-side filtering theo tab (IN_SESSION/ENDED)</li>
          <li>L∆∞u tr·ªØ allMeetings ƒë·ªÉ pagination kh√¥ng c·∫ßn g·ªçi l·∫°i API</li>
          <li>URL state management v·ªõi classroomId, page, tab</li>
          <li>Restore view t·ª´ URL ho·∫°t ƒë·ªông ƒë√∫ng</li>
        </ul>
      </div>

      <div class="test-section">
        <h2>üî¨ Test Cases</h2>

        <h3>1. Test L·∫•y Danh S√°ch Meeting</h3>
        <div class="step">
          <span class="step-number">1</span>
          <strong>V√†o trang l·ªõp h·ªçc (Student):</strong> Truy c·∫≠p danh s√°ch l·ªõp
          h·ªçc c·ªßa h·ªçc sinh
        </div>
        <div class="step">
          <span class="step-number">2</span>
          <strong>Ch·ªçn "Xem danh s√°ch ph√≤ng h·ªçc":</strong> Click button tr√™n b·∫•t
          k·ª≥ classroom n√†o
        </div>
        <div class="expected-result">
          <strong>Expected Result:</strong>
          <ul>
            <li>G·ªçi API: GET /meeting/get-meeting?classroomId={id}</li>
            <li>Hi·ªÉn th·ªã 2 meetings ƒë·∫ßu ti√™n (meetingsPerPage = 2)</li>
            <li>
              URL:
              /student/classrooms?view=meetings&classroomId=...&page=1&tab=IN_SESSION
            </li>
            <li>Log console hi·ªÉn th·ªã structure ƒë√∫ng</li>
          </ul>
        </div>

        <h3>2. Test Client-Side Pagination</h3>
        <div class="step">
          <span class="step-number">1</span>
          <strong>V·ªõi classroom c√≥ >2 meetings:</strong> Click "Sau" ƒë·ªÉ chuy·ªÉn
          trang
        </div>
        <div class="step">
          <span class="step-number">2</span>
          <strong>Ki·ªÉm tra kh√¥ng g·ªçi l·∫°i API:</strong> Xem network tab, kh√¥ng c√≥
          request m·ªõi
        </div>
        <div class="expected-result">
          <strong>Expected Result:</strong>
          <ul>
            <li>Hi·ªÉn th·ªã meetings trang 2 (t·ª´ allMeetings ƒë√£ l∆∞u)</li>
            <li>URL: ...&page=2</li>
            <li>Kh√¥ng c√≥ API call m·ªõi</li>
            <li>Pagination info c·∫≠p nh·∫≠t ƒë√∫ng</li>
          </ul>
        </div>

        <h3>3. Test Tab Filtering</h3>
        <div class="step">
          <span class="step-number">1</span>
          <strong>Switch tab:</strong> Click tab "ƒê√£ k·∫øt th√∫c" (ENDED)
        </div>
        <div class="step">
          <span class="step-number">2</span>
          <strong>Filter by status:</strong> Ch·ªâ hi·ªÉn th·ªã meetings c√≥ status:
          COMPLETED, ENDED, FINISHED
        </div>
        <div class="expected-result">
          <strong>Expected Result:</strong>
          <ul>
            <li>Filter t·ª´ allMeetings theo status</li>
            <li>Pagination reset v·ªÅ trang 1</li>
            <li>URL: ...&page=1&tab=ENDED</li>
            <li>Kh√¥ng g·ªçi l·∫°i API</li>
          </ul>
        </div>

        <h3>4. Test URL State Restore</h3>
        <div class="step">
          <span class="step-number">1</span>
          <strong>Copy URL:</strong> V√≠ d·ª•:
          ?view=meetings&classroomId=...&page=2&tab=ENDED
        </div>
        <div class="step">
          <span class="step-number">2</span>
          <strong>Refresh page:</strong> F5 ho·∫∑c m·ªü tab m·ªõi v·ªõi URL
        </div>
        <div class="expected-result">
          <strong>Expected Result:</strong>
          <ul>
            <li>G·ªçi API ƒë·ªÉ l·∫•y l·∫°i allMeetings</li>
            <li>Restore ƒë√∫ng tab (ENDED)</li>
            <li>Restore ƒë√∫ng page (2)</li>
            <li>Hi·ªÉn th·ªã ƒë√∫ng meetings ƒë√£ filter v√† ph√¢n trang</li>
          </ul>
        </div>

        <h3>5. Test Edge Cases</h3>
        <div class="step">
          <span class="step-number">1</span>
          <strong>Classroom kh√¥ng c√≥ meeting:</strong> Test v·ªõi classroom tr·ªëng
        </div>
        <div class="step">
          <span class="step-number">2</span>
          <strong>Filter kh√¥ng c√≥ k·∫øt qu·∫£:</strong> Tab c√≥ 0 meetings
        </div>
        <div class="expected-result">
          <strong>Expected Result:</strong>
          <ul>
            <li>
              Hi·ªÉn th·ªã message "Kh√¥ng c√≥ ph√≤ng h·ªçc n√†o trong tr·∫°ng th√°i n√†y"
            </li>
            <li>Kh√¥ng c√≥ pagination buttons</li>
            <li>URL v·∫´n maintain state</li>
          </ul>
        </div>
      </div>

      <div class="test-section">
        <h2>üîç Debug Information</h2>

        <h3>Console Logs ƒë·ªÉ Ki·ªÉm Tra:</h3>
        <div class="code-block">
          üîç Fetching meetings for classroom {id} using meeting/get-meeting
          endpoint üì• Meeting API response: {full response object} üìã Found X
          meetings üìä Meeting data structure: [array of meetings] üìÑ Page Y:
          showing Z meetings (start-end of total) üìä Student meeting filtering:
          X total ‚Üí Y filtered ‚Üí Z paginated (tab: TAB, page: PAGE) üéØ Student
          meeting tab switch: OLD -> NEW (client-side filtering only) üìÑ Meeting
          page change: OLD -> NEW (client-side only) ‚úÖ Restored meeting view
          with X total meetings (page Y, tab Z)
        </div>

        <h3>Quan Tr·ªçng - Ki·ªÉm Tra:</h3>
        <div class="warning">
          <ul>
            <li>
              <strong>API ch·ªâ g·ªçi 1 l·∫ßn:</strong> Khi v√†o meeting view ho·∫∑c
              refresh
            </li>
            <li>
              <strong>Pagination kh√¥ng g·ªçi API:</strong> Ch·ªâ slice array
              allMeetings
            </li>
            <li>
              <strong>Tab filtering kh√¥ng g·ªçi API:</strong> Filter allMeetings
              theo status
            </li>
            <li>
              <strong>Data t·ª´ response.data.result.items:</strong> Gi·ªëng lu·ªìng
              gia s∆∞
            </li>
            <li>
              <strong>URL state ƒë·∫ßy ƒë·ªß:</strong> view, classroomId, page, tab
            </li>
          </ul>
        </div>
      </div>

      <div class="test-section">
        <h2>üõ†Ô∏è URL Examples</h2>

        <div class="url-example">
          <strong>Meeting view page 1, tab IN_SESSION:</strong><br />
          /student/classrooms?view=meetings&classroomId=0d27f835-83e7-408f-b2ab-d932450afc95&classroomName=L%E1%BB%9Bp%20h%E1%BB%8Dc%20v%E1%BB%9Bi%20gia%20s%C6%B0%20Nguy%E1%BB%85n%20V%C4%83n%20An&page=1&tab=IN_SESSION
        </div>

        <div class="url-example">
          <strong>Meeting view page 2, tab ENDED:</strong><br />
          /student/classrooms?view=meetings&classroomId=0d27f835-83e7-408f-b2ab-d932450afc95&classroomName=L%E1%BB%9Bp%20h%E1%BB%8Dc%20v%E1%BB%9Bi%20gia%20s%C6%B0%20Nguy%E1%BB%85n%20V%C4%83n%20An&page=2&tab=ENDED
        </div>
      </div>

      <div class="expected-result">
        <h2>‚úÖ Success Criteria</h2>
        <ul>
          <li>API meeting/get-meeting ho·∫°t ƒë·ªông ƒë√∫ng v·ªõi classroomId</li>
          <li>Client-side pagination ho·∫°t ƒë·ªông smooth, kh√¥ng lag</li>
          <li>Tab filtering nhanh, kh√¥ng g·ªçi API th√™m</li>
          <li>URL restore ho·∫°t ƒë·ªông ƒë√∫ng khi refresh</li>
          <li>Kh√¥ng c√≥ console errors</li>
          <li>UI responsive v√† smooth</li>
          <li>Gi·ªëng h·ªát lu·ªìng b√™n gia s∆∞ v·ªÅ m·∫∑t API v√† data flow</li>
        </ul>
      </div>

      <div class="api-info">
        <h3>üîÑ Data Flow Summary</h3>
        <div class="code-block">
          1. handleViewMeetings() ‚Üí API: GET
          /meeting/get-meeting?classroomId={id} ‚Üí Store:
          setAllMeetings(response.data.result.items) ‚Üí Paginate: slice
          allMeetings for current page ‚Üí Display:
          setMeetingList(paginatedMeetings) 2. handleMeetingPageChange() ‚Üí
          Filter: allMeetings by current tab ‚Üí Paginate: slice filtered results
          for new page ‚Üí Update: URL params and currentMeetingPage ‚Üí NO API CALL
          3. handleMeetingTabChange() ‚Üí Update: activeMeetingTab ‚Üí Reset:
          currentMeetingPage = 1 ‚Üí Update: URL params with new tab ‚Üí NO API CALL
          (filtering in render) 4. Restore from URL ‚Üí API: GET
          /meeting/get-meeting?classroomId={id} ‚Üí Parse: page and tab from URL ‚Üí
          Set: activeMeetingTab, currentMeetingPage ‚Üí Store: allMeetings for
          client-side operations
        </div>
      </div>
    </div>
  </body>
</html>
