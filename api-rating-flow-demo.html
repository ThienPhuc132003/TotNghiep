<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Demo - Lu·ªìng API ƒê√°nh Gi√°</title>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        padding: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
      }
      .container {
        max-width: 1400px;
        margin: 0 auto;
        background: white;
        border-radius: 15px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }
      .header {
        background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%);
        color: white;
        padding: 30px;
        text-align: center;
      }
      .header h1 {
        margin: 0;
        font-size: 2.5rem;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }
      .content {
        padding: 30px;
      }
      .api-section {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 30px;
        margin: 30px 0;
      }
      .api-card {
        background: #f8f9fa;
        border-radius: 10px;
        padding: 25px;
        border-left: 5px solid #28a745;
      }
      .api-card.meeting {
        border-left-color: #007bff;
      }
      .api-card.classroom {
        border-left-color: #28a745;
      }
      .api-title {
        font-size: 1.4rem;
        font-weight: bold;
        margin-bottom: 15px;
        color: #2c3e50;
      }
      .status-badge {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: bold;
        margin-left: 10px;
      }
      .status-todo {
        background: #fff3cd;
        color: #856404;
        border: 1px solid #ffc107;
      }
      .status-done {
        background: #d4edda;
        color: #155724;
        border: 1px solid #28a745;
      }
      .code-block {
        background: #2c3e50;
        color: #ecf0f1;
        border-radius: 8px;
        padding: 20px;
        margin: 15px 0;
        font-family: "Courier New", monospace;
        overflow-x: auto;
        position: relative;
      }
      .code-title {
        position: absolute;
        top: -10px;
        left: 15px;
        background: #34495e;
        color: white;
        padding: 4px 12px;
        border-radius: 4px;
        font-size: 0.8rem;
      }
      .request-data {
        background: #e3f2fd;
        border-left: 4px solid #2196f3;
        padding: 15px;
        margin: 15px 0;
        border-radius: 6px;
      }
      .response-data {
        background: #f3e5f5;
        border-left: 4px solid #9c27b0;
        padding: 15px;
        margin: 15px 0;
        border-radius: 6px;
      }
      .flow-diagram {
        background: white;
        border: 2px solid #dee2e6;
        border-radius: 10px;
        padding: 25px;
        margin: 25px 0;
      }
      .flow-step {
        display: flex;
        align-items: center;
        margin: 15px 0;
        padding: 12px;
        background: #f8f9fa;
        border-radius: 6px;
        border-left: 4px solid #28a745;
      }
      .flow-step.todo {
        border-left-color: #ffc107;
        background: #fff9e5;
      }
      .step-number {
        background: #28a745;
        color: white;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        margin-right: 15px;
        flex-shrink: 0;
      }
      .step-number.todo {
        background: #ffc107;
      }
      .comparison-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
        background: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }
      .comparison-table th {
        background: #34495e;
        color: white;
        padding: 15px;
        text-align: left;
      }
      .comparison-table td {
        padding: 12px 15px;
        border-bottom: 1px solid #dee2e6;
      }
      .comparison-table tr:nth-child(even) {
        background: #f8f9fa;
      }
      .todo-list {
        background: #fff3cd;
        border-radius: 8px;
        padding: 20px;
        margin: 20px 0;
        border-left: 4px solid #ffc107;
      }
      .todo-item {
        margin: 10px 0;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .todo-checkbox {
        width: 18px;
        height: 18px;
        border: 2px solid #ffc107;
        border-radius: 3px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: white;
      }
      .modal-demo {
        background: white;
        border: 2px solid #dee2e6;
        border-radius: 10px;
        padding: 20px;
        margin: 20px 0;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      }
      .demo-button {
        background: #007bff;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 6px;
        cursor: pointer;
        font-weight: bold;
        margin: 5px;
        transition: all 0.3s ease;
      }
      .demo-button:hover {
        background: #0056b3;
        transform: translateY(-2px);
      }
      .demo-button.success {
        background: #28a745;
      }
      .demo-button.success:hover {
        background: #218838;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üîÑ Demo: Lu·ªìng API ƒê√°nh Gi√° Ph√≠a Ng∆∞·ªùi H·ªçc</h1>
        <p>Ph√¢n t√≠ch chi ti·∫øt c√°c API endpoints v√† d·ªØ li·ªáu truy·ªÅn/nh·∫≠n</p>
      </div>

      <div class="content">
        <div class="flow-diagram">
          <h2>üìã T·ªïng quan h·ªá th·ªëng ƒë√°nh gi√°</h2>
          <p>H·ªá th·ªëng c√≥ <strong>2 lo·∫°i ƒë√°nh gi√°</strong> ri√™ng bi·ªát:</p>

          <div class="flow-step">
            <div class="step-number">1</div>
            <div>
              <strong>üìù ƒê√°nh gi√° Bu·ªïi h·ªçc (Meeting Rating)</strong><br />
              <small
                >ƒê√°nh gi√° ch·∫•t l∆∞·ª£ng m·ªôt bu·ªïi h·ªçc c·ª• th·ªÉ sau khi k·∫øt th√∫c</small
              >
            </div>
          </div>

          <div class="flow-step">
            <div class="step-number">2</div>
            <div>
              <strong>üèõÔ∏è ƒê√°nh gi√° L·ªõp h·ªçc (Classroom Evaluation)</strong><br />
              <small
                >ƒê√°nh gi√° t·ªïng th·ªÉ l·ªõp h·ªçc, gi√°o vi√™n v√† ch∆∞∆°ng tr√¨nh</small
              >
            </div>
          </div>
        </div>

        <div class="api-section">
          <div class="api-card meeting">
            <h3 class="api-title">
              üìù Meeting Rating API
              <span class="status-badge status-todo">TODO</span>
            </h3>

            <div class="code-block">
              <div class="code-title">API Endpoint</div>
              <div>
                POST /api/meeting/rating<br />
                Content-Type: application/json<br />
                Authorization: Bearer &lt;jwt_token&gt;
              </div>
            </div>

            <div class="request-data">
              <h4>üì§ Request Data</h4>
              <div class="code-block">
                <div class="code-title">JSON Body</div>
                {<br />
                &nbsp;&nbsp;"meetingId": "string",<br />
                &nbsp;&nbsp;"rating": 4.5,<br />
                &nbsp;&nbsp;"comment": "Bu·ªïi h·ªçc r·∫•t b·ªï √≠ch"<br />
                }
              </div>
              <p><strong>Validation:</strong></p>
              <ul>
                <li>meetingId: required, string</li>
                <li>rating: required, 0.5-5.0 (half star support)</li>
                <li>comment: required, trim whitespace</li>
              </ul>
            </div>

            <div class="response-data">
              <h4>üì• Response Data</h4>
              <div class="code-block">
                <div class="code-title">JSON Response</div>
                {<br />
                &nbsp;&nbsp;"success": true,<br />
                &nbsp;&nbsp;"message": "Rating submitted successfully",<br />
                &nbsp;&nbsp;"data": {<br />
                &nbsp;&nbsp;&nbsp;&nbsp;"ratingId": "rating_123",<br />
                &nbsp;&nbsp;&nbsp;&nbsp;"meetingId": "meeting_456",<br />
                &nbsp;&nbsp;&nbsp;&nbsp;"userId": "user_789",<br />
                &nbsp;&nbsp;&nbsp;&nbsp;"rating": 4.5,<br />
                &nbsp;&nbsp;&nbsp;&nbsp;"comment": "Bu·ªïi h·ªçc r·∫•t b·ªï √≠ch",<br />
                &nbsp;&nbsp;&nbsp;&nbsp;"createdAt": "2025-06-20T10:30:00Z"<br />
                &nbsp;&nbsp;}<br />
                }
              </div>
            </div>

            <button class="demo-button" onclick="demonstrateMeetingRating()">
              üîç Demo Meeting Rating
            </button>
          </div>

          <div class="api-card classroom">
            <h3 class="api-title">
              üèõÔ∏è Classroom Evaluation API
              <span class="status-badge status-todo">TODO</span>
            </h3>

            <div class="code-block">
              <div class="code-title">API Endpoint</div>
              <div>
                POST /api/classroom/evaluation<br />
                Content-Type: application/json<br />
                Authorization: Bearer &lt;jwt_token&gt;
              </div>
            </div>

            <div class="request-data">
              <h4>üì§ Request Data</h4>
              <div class="code-block">
                <div class="code-title">JSON Body</div>
                {<br />
                &nbsp;&nbsp;"classroomId": "string",<br />
                &nbsp;&nbsp;"rating": 5,<br />
                &nbsp;&nbsp;"comment": "L·ªõp h·ªçc tuy·ªát v·ªùi",<br />
                &nbsp;&nbsp;"teacherRating": 4.5,<br />
                &nbsp;&nbsp;"contentRating": 4.0<br />
                }
              </div>
              <p>
                <strong
                  >C√≥ th·ªÉ c√≥ th√™m fields t·ª´ ClassroomEvaluationModal</strong
                >
              </p>
            </div>

            <div class="response-data">
              <h4>üì• Response Data</h4>
              <div class="code-block">
                <div class="code-title">JSON Response</div>
                {<br />
                &nbsp;&nbsp;"success": true,<br />
                &nbsp;&nbsp;"message": "Evaluation submitted successfully",<br />
                &nbsp;&nbsp;"data": {<br />
                &nbsp;&nbsp;&nbsp;&nbsp;"evaluationId": "eval_123",<br />
                &nbsp;&nbsp;&nbsp;&nbsp;"classroomId": "class_456", <br />
                &nbsp;&nbsp;&nbsp;&nbsp;"userId": "user_789",<br />
                &nbsp;&nbsp;&nbsp;&nbsp;"rating": 5,<br />
                &nbsp;&nbsp;&nbsp;&nbsp;"comment": "L·ªõp h·ªçc tuy·ªát v·ªùi",<br />
                &nbsp;&nbsp;&nbsp;&nbsp;"createdAt": "2025-06-20T10:30:00Z"<br />
                &nbsp;&nbsp;}<br />
                }
              </div>
            </div>

            <button
              class="demo-button success"
              onclick="demonstrateClassroomEvaluation()"
            >
              üîç Demo Classroom Evaluation
            </button>
          </div>
        </div>

        <div class="flow-diagram">
          <h2>üîÑ Lu·ªìng x·ª≠ l√Ω hi·ªán t·∫°i vs Mong ƒë·ª£i</h2>

          <h3>‚ùå Hi·ªán t·∫°i (TODO Implementation)</h3>
          <div class="flow-step todo">
            <div class="step-number todo">1</div>
            <div>User click ƒë√°nh gi√° ‚Üí Modal m·ªü</div>
          </div>
          <div class="flow-step todo">
            <div class="step-number todo">2</div>
            <div>User nh·∫≠p rating & comment ‚Üí Submit</div>
          </div>
          <div class="flow-step todo">
            <div class="step-number todo">3</div>
            <div>console.log(data) ‚Üí toast.success() ‚Üí Close modal</div>
          </div>

          <h3>‚úÖ Mong ƒë·ª£i (Sau khi implement)</h3>
          <div class="flow-step">
            <div class="step-number">1</div>
            <div>User click ƒë√°nh gi√° ‚Üí Modal m·ªü</div>
          </div>
          <div class="flow-step">
            <div class="step-number">2</div>
            <div>User nh·∫≠p rating & comment ‚Üí Validate ‚Üí Submit</div>
          </div>
          <div class="flow-step">
            <div class="step-number">3</div>
            <div>Loading state ‚Üí API call ‚Üí Success ‚Üí toast ‚Üí Close modal</div>
          </div>
          <div class="flow-step">
            <div class="step-number">4</div>
            <div>Refresh data ‚Üí Update UI ‚Üí Show completed status</div>
          </div>
        </div>

        <div class="modal-demo">
          <h2>üì± Demo Modal Interactions</h2>
          <p>M√¥ ph·ªèng lu·ªìng ƒë√°nh gi√° v·ªõi UI th·ª±c t·∫ø:</p>

          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px">
            <div>
              <h4>üìù Meeting Rating Modal</h4>
              <div
                style="
                  background: #f8f9fa;
                  padding: 15px;
                  border-radius: 6px;
                  border: 1px solid #dee2e6;
                "
              >
                <p><strong>Th√¥ng tin bu·ªïi h·ªçc</strong></p>
                <p>Ch·ªß ƒë·ªÅ: To√°n cao c·∫•p</p>
                <p>Th·ªùi gian: 20/06/2025 14:30</p>
                <hr />
                <p>ƒê√°nh gi√°: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5 sao)</p>
                <textarea
                  placeholder="Nh·∫≠p nh·∫≠n x√©t..."
                  style="width: 100%; height: 60px; margin: 10px 0"
                ></textarea>
                <button class="demo-button" onclick="submitMeetingRating()">
                  G·ª≠i ƒë√°nh gi√°
                </button>
              </div>
            </div>

            <div>
              <h4>üèõÔ∏è Classroom Evaluation Modal</h4>
              <div
                style="
                  background: #f8f9fa;
                  padding: 15px;
                  border-radius: 6px;
                  border: 1px solid #dee2e6;
                "
              >
                <p><strong>ƒê√°nh gi√° l·ªõp h·ªçc</strong></p>
                <p>L·ªõp: To√°n cao c·∫•p A1</p>
                <p>Gi√°o vi√™n: Nguy·ªÖn VƒÉn A</p>
                <hr />
                <p>Ch·∫•t l∆∞·ª£ng t·ªïng th·ªÉ: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</p>
                <p>Gi·∫£ng vi√™n: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</p>
                <textarea
                  placeholder="Nh·∫≠n x√©t chung..."
                  style="width: 100%; height: 60px; margin: 10px 0"
                ></textarea>
                <button
                  class="demo-button success"
                  onclick="submitClassroomEvaluation()"
                >
                  G·ª≠i ƒë√°nh gi√°
                </button>
              </div>
            </div>
          </div>
        </div>

        <table class="comparison-table">
          <thead>
            <tr>
              <th>ƒê·∫∑c ƒëi·ªÉm</th>
              <th>Meeting Rating</th>
              <th>Classroom Evaluation</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>M·ª•c ƒë√≠ch</strong></td>
              <td>ƒê√°nh gi√° 1 bu·ªïi h·ªçc c·ª• th·ªÉ</td>
              <td>ƒê√°nh gi√° t·ªïng th·ªÉ l·ªõp h·ªçc</td>
            </tr>
            <tr>
              <td><strong>Th·ªùi ƒëi·ªÉm</strong></td>
              <td>Sau khi bu·ªïi h·ªçc k·∫øt th√∫c</td>
              <td>Sau khi ho√†n th√†nh l·ªõp h·ªçc</td>
            </tr>
            <tr>
              <td><strong>API Endpoint</strong></td>
              <td>/api/meeting/rating</td>
              <td>/api/classroom/evaluation</td>
            </tr>
            <tr>
              <td><strong>Handler Function</strong></td>
              <td>handleMeetingRatingSubmit</td>
              <td>handleEvaluationSubmit</td>
            </tr>
            <tr>
              <td><strong>Modal Component</strong></td>
              <td>RatingModal (inline)</td>
              <td>ClassroomEvaluationModal</td>
            </tr>
            <tr>
              <td><strong>Status</strong></td>
              <td>‚ùå TODO Implementation</td>
              <td>‚ùå TODO Implementation</td>
            </tr>
          </tbody>
        </table>

        <div class="todo-list">
          <h2>üìã TODO List Implementation</h2>

          <h3>üîß Frontend Tasks</h3>
          <div class="todo-item">
            <div class="todo-checkbox">‚ñ°</div>
            <span>Implement handleMeetingRatingSubmit API call</span>
          </div>
          <div class="todo-item">
            <div class="todo-checkbox">‚ñ°</div>
            <span>Implement handleEvaluationSubmit API call</span>
          </div>
          <div class="todo-item">
            <div class="todo-checkbox">‚ñ°</div>
            <span>Th√™m loading states khi submit</span>
          </div>
          <div class="todo-item">
            <div class="todo-checkbox">‚ñ°</div>
            <span>Th√™m error handling ƒë·∫ßy ƒë·ªß</span>
          </div>
          <div class="todo-item">
            <div class="todo-checkbox">‚ñ°</div>
            <span>Refresh data sau khi ƒë√°nh gi√° th√†nh c√¥ng</span>
          </div>

          <h3>üñ•Ô∏è Backend Tasks</h3>
          <div class="todo-item">
            <div class="todo-checkbox">‚ñ°</div>
            <span>T·∫°o endpoint POST /api/meeting/rating</span>
          </div>
          <div class="todo-item">
            <div class="todo-checkbox">‚ñ°</div>
            <span>T·∫°o endpoint POST /api/classroom/evaluation</span>
          </div>
          <div class="todo-item">
            <div class="todo-checkbox">‚ñ°</div>
            <span>Database schema cho ratings v√† evaluations</span>
          </div>
          <div class="todo-item">
            <div class="todo-checkbox">‚ñ°</div>
            <span>Validation rules tr√™n server</span>
          </div>
        </div>
      </div>
    </div>

    <script>
      function demonstrateMeetingRating() {
        const data = {
          meetingId: "meeting_12345",
          rating: 4.5,
          comment: "Bu·ªïi h·ªçc r·∫•t b·ªï √≠ch v√† d·ªÖ hi·ªÉu",
        };

        console.log("üìù Meeting Rating Data:", data);
        alert(
          `üìù Meeting Rating Demo\n\nData s·∫Ω g·ª≠i:\n${JSON.stringify(
            data,
            null,
            2
          )}`
        );
      }

      function demonstrateClassroomEvaluation() {
        const data = {
          classroomId: "classroom_67890",
          rating: 5,
          comment: "L·ªõp h·ªçc tuy·ªát v·ªùi, gi√°o vi√™n nhi·ªát t√¨nh",
          teacherRating: 4.5,
          contentRating: 4.8,
        };

        console.log("üèõÔ∏è Classroom Evaluation Data:", data);
        alert(
          `üèõÔ∏è Classroom Evaluation Demo\n\nData s·∫Ω g·ª≠i:\n${JSON.stringify(
            data,
            null,
            2
          )}`
        );
      }

      function submitMeetingRating() {
        // Simulate API call
        console.log("Submitting meeting rating...");
        setTimeout(() => {
          alert(
            "‚úÖ Meeting rating submitted successfully!\n(This is just a demo)"
          );
        }, 1000);
      }

      function submitClassroomEvaluation() {
        // Simulate API call
        console.log("Submitting classroom evaluation...");
        setTimeout(() => {
          alert(
            "‚úÖ Classroom evaluation submitted successfully!\n(This is just a demo)"
          );
        }, 1000);
      }

      console.log("üîÑ API Rating Flow Demo Loaded");
      console.log("üìù Meeting Rating: handleMeetingRatingSubmit");
      console.log("üèõÔ∏è Classroom Evaluation: handleEvaluationSubmit");
      console.log("‚ùå Both need API implementation");
    </script>
  </body>
</html>
