<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Rating Function - Testing Guide</title>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f8f9fa;
      }
      .container {
        background: white;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      h1 {
        color: #2c5282;
        text-align: center;
        margin-bottom: 30px;
        border-bottom: 3px solid #4299e1;
        padding-bottom: 10px;
      }
      h2 {
        color: #2d3748;
        border-left: 4px solid #4299e1;
        padding-left: 15px;
        margin-top: 25px;
      }
      h3 {
        color: #4a5568;
        margin-top: 20px;
      }
      .step {
        background: #e6fffa;
        border: 1px solid #81e6d9;
        border-radius: 5px;
        padding: 15px;
        margin: 10px 0;
      }
      .warning {
        background: #fef5e7;
        border: 1px solid #f6ad55;
        border-radius: 5px;
        padding: 15px;
        margin: 10px 0;
      }
      .success {
        background: #f0fff4;
        border: 1px solid #68d391;
        border-radius: 5px;
        padding: 15px;
        margin: 10px 0;
      }
      .code {
        background: #2d3748;
        color: #e2e8f0;
        padding: 15px;
        border-radius: 5px;
        font-family: "Courier New", monospace;
        overflow-x: auto;
        margin: 10px 0;
      }
      .icon {
        color: #4299e1;
        margin-right: 8px;
      }
      ul,
      ol {
        margin-left: 20px;
      }
      li {
        margin: 8px 0;
      }
      .checklist {
        background: #f7fafc;
        border: 1px solid #cbd5e0;
        border-radius: 5px;
        padding: 15px;
        margin: 10px 0;
      }
      .btn {
        background: #4299e1;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin: 5px;
        font-size: 14px;
      }
      .btn:hover {
        background: #3182ce;
      }
      .test-section {
        border: 2px solid #e2e8f0;
        border-radius: 8px;
        padding: 20px;
        margin: 20px 0;
        position: relative;
      }
      .test-section::before {
        content: "TEST CASE";
        position: absolute;
        top: -10px;
        left: 20px;
        background: white;
        padding: 0 10px;
        font-weight: bold;
        color: #4299e1;
        font-size: 12px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üåü Student Rating Function - Complete Testing Guide</h1>

      <div class="success">
        <h3>
          <i class="fas fa-check-circle icon"></i>Implementation Status: ‚úÖ
          COMPLETED
        </h3>
        <p>
          Ch·ª©c nƒÉng ƒë√°nh gi√° ph√≤ng h·ªçc cho ng∆∞·ªùi h·ªçc ƒë√£ ƒë∆∞·ª£c implement ho√†n
          ch·ªânh v√† s·∫µn s√†ng ƒë·ªÉ test!
        </p>
      </div>

      <h2><i class="fas fa-info-circle icon"></i>T·ªïng Quan Ch·ª©c NƒÉng</h2>
      <div class="step">
        <strong>M·ª•c ti√™u:</strong> Cho ph√©p ng∆∞·ªùi h·ªçc ƒë√°nh gi√° ph√≤ng h·ªçc v·ªõi s·ªë
        sao v√† m√¥ t·∫£ sau khi meeting k·∫øt th√∫c. <br /><strong>API:</strong>
        <code>POST classroom-assessment/create/:classroomId</code> <br /><strong
          >ƒêi·ªÅu ki·ªán:</strong
        >
        Ch·ªâ cho ph√©p ƒë√°nh gi√° n·∫øu <code>classroom.isRating = false</code>
      </div>

      <h2><i class="fas fa-cog icon"></i>Chu·∫©n B·ªã Test</h2>

      <div class="test-section">
        <h3>1. Kh·ªüi ƒê·ªông ·ª®ng D·ª•ng</h3>
        <div class="code">
          cd c:\Users\PHUC\Documents\GitHub\TotNghiep npm start
        </div>
        <div class="warning">
          <strong>L∆∞u √Ω:</strong> ƒê·∫£m b·∫£o backend server ƒëang ch·∫°y v√† c√≥ data
          test s·∫µn
        </div>
      </div>

      <div class="test-section">
        <h3>2. ƒêƒÉng Nh·∫≠p Student Account</h3>
        <div class="step">
          <strong>Y√™u c·∫ßu:</strong> ƒêƒÉng nh·∫≠p v·ªõi t√†i kho·∫£n student c√≥ √≠t nh·∫•t 1
          classroom v·ªõi meetings <br /><strong>URL:</strong>
          <code>http://localhost:3000/login</code>
        </div>
      </div>

      <h2><i class="fas fa-play-circle icon"></i>Test Cases</h2>

      <div class="test-section">
        <h3>Test Case 1: Navigation to Meeting View</h3>
        <ol>
          <li>
            <strong>V√†o trang Student Classroom:</strong>
            <code>/student/classrooms</code>
          </li>
          <li>
            <strong>Click n√∫t "Xem ph√≤ng h·ªçc"</strong> cho m·ªôt classroom b·∫•t k·ª≥
          </li>
          <li>
            <strong>Ki·ªÉm tra:</strong> C√≥ hi·ªÉn th·ªã danh s√°ch meetings kh√¥ng?
          </li>
          <li>
            <strong>Expected:</strong> Danh s√°ch meetings hi·ªÉn th·ªã v·ªõi c√°c tabs
            "ƒêang ho·∫°t ƒë·ªông" v√† "ƒê√£ k·∫øt th√∫c"
          </li>
        </ol>
        <div class="checklist">
          <strong>Checklist:</strong>
          <ul>
            <li>‚òê Meeting list load th√†nh c√¥ng</li>
            <li>‚òê Tabs hi·ªÉn th·ªã ƒë√∫ng s·ªë l∆∞·ª£ng</li>
            <li>‚òê Meeting info hi·ªÉn th·ªã ƒë·∫ßy ƒë·ªß (th·ªùi gian, tr·∫°ng th√°i)</li>
          </ul>
        </div>
      </div>

      <div class="test-section">
        <h3>Test Case 2: Rating Button Display Logic</h3>
        <div class="step">
          <strong>M·ª•c ti√™u:</strong> Ki·ªÉm tra logic hi·ªÉn th·ªã n√∫t "ƒê√°nh gi√°" vs
          "ƒê√£ ƒë√°nh gi√°"
        </div>
        <ol>
          <li>
            <strong>T√¨m meeting ch∆∞a ƒë∆∞·ª£c ƒë√°nh gi√°</strong> (isRating = false)
          </li>
          <li><strong>Ki·ªÉm tra:</strong> C√≥ hi·ªÉn th·ªã n√∫t "ƒê√°nh gi√°" kh√¥ng?</li>
          <li>
            <strong>T√¨m meeting ƒë√£ ƒë∆∞·ª£c ƒë√°nh gi√°</strong> (isRating = true)
          </li>
          <li>
            <strong>Ki·ªÉm tra:</strong> C√≥ hi·ªÉn th·ªã s·ªë sao ƒë√£ ƒë√°nh gi√° kh√¥ng?
          </li>
        </ol>
        <div class="checklist">
          <strong>Checklist:</strong>
          <ul>
            <li>‚òê N√∫t "ƒê√°nh gi√°" hi·ªÉn th·ªã cho meeting ch∆∞a ƒë√°nh gi√°</li>
            <li>‚òê Star rating hi·ªÉn th·ªã cho meeting ƒë√£ ƒë√°nh gi√°</li>
            <li>‚òê Logic conditional rendering ƒë√∫ng</li>
          </ul>
        </div>
      </div>

      <div class="test-section">
        <h3>Test Case 3: Rating Modal Functionality</h3>
        <ol>
          <li><strong>Click n√∫t "ƒê√°nh gi√°"</strong> cho m·ªôt meeting</li>
          <li><strong>Ki·ªÉm tra modal hi·ªÉn th·ªã:</strong></li>
          <ul>
            <li>Ti√™u ƒë·ªÅ "ƒê√°nh gi√° ph√≤ng h·ªçc"</li>
            <li>Th√¥ng tin meeting (topic, tutor, meetingId)</li>
            <li>Star rating selector (5 sao)</li>
            <li>Textarea m√¥ t·∫£</li>
            <li>N√∫t "H·ªßy" v√† "G·ª≠i ƒë√°nh gi√°"</li>
          </ul>
          <li><strong>Test star selection:</strong> Click c√°c sao kh√°c nhau</li>
          <li>
            <strong>Test half-star:</strong> Click gi·ªØa 2 sao ƒë·ªÉ ch·ªçn n·ª≠a sao
          </li>
          <li><strong>Nh·∫≠p m√¥ t·∫£</strong> trong textarea</li>
        </ol>
        <div class="checklist">
          <strong>Checklist:</strong>
          <ul>
            <li>‚òê Modal m·ªü ƒë√∫ng khi click "ƒê√°nh gi√°"</li>
            <li>‚òê Th√¥ng tin meeting hi·ªÉn th·ªã ch√≠nh x√°c</li>
            <li>‚òê Star rating ho·∫°t ƒë·ªông (c·∫£ nguy√™n sao v√† n·ª≠a sao)</li>
            <li>‚òê Textarea nh·∫≠p m√¥ t·∫£ ho·∫°t ƒë·ªông</li>
            <li>‚òê Character counter hi·ªÉn th·ªã (0/500)</li>
          </ul>
        </div>
      </div>

      <div class="test-section">
        <h3>Test Case 4: Form Validation</h3>
        <ol>
          <li><strong>Test validation khi ch∆∞a ch·ªçn sao:</strong></li>
          <ul>
            <li>B·ªè tr·ªëng star rating</li>
            <li>Nh·∫≠p m√¥ t·∫£</li>
            <li>Click "G·ª≠i ƒë√°nh gi√°"</li>
            <li>
              <strong>Expected:</strong> Hi·ªÉn th·ªã error "Vui l√≤ng ch·ªçn s·ªë sao
              ƒë√°nh gi√°!"
            </li>
          </ul>
          <li><strong>Test validation khi ch∆∞a nh·∫≠p m√¥ t·∫£:</strong></li>
          <ul>
            <li>Ch·ªçn s·ªë sao</li>
            <li>B·ªè tr·ªëng m√¥ t·∫£</li>
            <li>Click "G·ª≠i ƒë√°nh gi√°"</li>
            <li>
              <strong>Expected:</strong> Hi·ªÉn th·ªã error "Vui l√≤ng nh·∫≠p m√¥ t·∫£
              ƒë√°nh gi√°!"
            </li>
          </ul>
          <li><strong>Test button disabled state:</strong></li>
          <ul>
            <li>Button "G·ª≠i ƒë√°nh gi√°" ph·∫£i disable khi validation fails</li>
          </ul>
        </ol>
        <div class="checklist">
          <strong>Checklist:</strong>
          <ul>
            <li>‚òê Validation star rating ho·∫°t ƒë·ªông</li>
            <li>‚òê Validation m√¥ t·∫£ ho·∫°t ƒë·ªông</li>
            <li>‚òê Button disabled state ƒë√∫ng</li>
            <li>‚òê Toast error messages hi·ªÉn th·ªã</li>
          </ul>
        </div>
      </div>

      <div class="test-section">
        <h3>Test Case 5: API Integration</h3>
        <div class="warning">
          <strong>Quan tr·ªçng:</strong> M·ªü Developer Tools > Network tab tr∆∞·ªõc
          khi test
        </div>
        <ol>
          <li><strong>ƒêi·ªÅn form h·ª£p l·ªá:</strong></li>
          <ul>
            <li>Ch·ªçn s·ªë sao (v√≠ d·ª•: 4.5 sao)</li>
            <li>Nh·∫≠p m√¥ t·∫£ (v√≠ d·ª•: "Gia s∆∞ d·∫°y r·∫•t t·ªët, nhi·ªát t√¨nh")</li>
          </ul>
          <li><strong>Click "G·ª≠i ƒë√°nh gi√°"</strong></li>
          <li><strong>Ki·ªÉm tra Network tab:</strong></li>
          <ul>
            <li>
              Request URL:
              <code>POST /classroom-assessment/create/:classroomId</code>
            </li>
            <li>Headers: Authorization v·ªõi Bearer token</li>
            <li>
              Payload:
              <code
                >{ tutorId, classroomEvaluation: 4.5, description: "...",
                meetingId }</code
              >
            </li>
          </ul>
          <li><strong>Ki·ªÉm tra response v√† UI:</strong></li>
          <ul>
            <li>
              Success: Modal ƒë√≥ng + Toast success + Classroom list refresh
            </li>
            <li>Error: Toast error message + Modal v·∫´n m·ªü</li>
          </ul>
        </ol>
        <div class="checklist">
          <strong>Checklist:</strong>
          <ul>
            <li>‚òê API call v·ªõi ƒë√∫ng endpoint</li>
            <li>‚òê Payload structure ch√≠nh x√°c</li>
            <li>‚òê Authorization header ƒë√∫ng</li>
            <li>‚òê Success case: Modal ƒë√≥ng + Toast + Refresh</li>
            <li>‚òê Error case: Toast error + Modal m·ªü</li>
          </ul>
        </div>
      </div>

      <div class="test-section">
        <h3>Test Case 6: Post-Rating State</h3>
        <ol>
          <li>
            <strong>Sau khi rating th√†nh c√¥ng</strong>, quay l·∫°i meeting view
          </li>
          <li><strong>Ki·ªÉm tra meeting v·ª´a ƒë√°nh gi√°:</strong></li>
          <ul>
            <li>N√∫t "ƒê√°nh gi√°" ƒë√£ bi·∫øn m·∫•t</li>
            <li>Hi·ªÉn th·ªã star rating v·ªõi s·ªë sao ƒë√£ ch·ªçn</li>
            <li>Text "ƒê√£ ƒë√°nh gi√°: X.X sao"</li>
          </ul>
          <li><strong>Test refresh page:</strong> F5 ƒë·ªÉ reload</li>
          <li>
            <strong>Ki·ªÉm tra:</strong> Tr·∫°ng th√°i ƒë√£ ƒë√°nh gi√° v·∫´n ƒë∆∞·ª£c gi·ªØ
          </li>
        </ol>
        <div class="checklist">
          <strong>Checklist:</strong>
          <ul>
            <li>‚òê N√∫t "ƒê√°nh gi√°" bi·∫øn m·∫•t sau rating</li>
            <li>‚òê Star display hi·ªÉn th·ªã ƒë√∫ng s·ªë sao</li>
            <li>‚òê State persist sau refresh</li>
            <li>‚òê isRating flag ƒë∆∞·ª£c update</li>
          </ul>
        </div>
      </div>

      <h2><i class="fas fa-bug icon"></i>Debug v√† Troubleshooting</h2>

      <div class="test-section">
        <h3>Console Debug Messages</h3>
        <div class="code">
          // M·ªü Console ƒë·ªÉ xem debug logs: üîç RATING BUTTON CLICKED: { meeting,
          classroom, isRating } üîç RATING DEBUG - Opening rating modal: {
          meetingId, classroomId, tutorId } üîç RATING DEBUG - Submitting rating:
          { tutorId, classroomEvaluation, description, meetingId } üîç RATING
          DEBUG - Rating response: { success, data }
        </div>
      </div>

      <div class="test-section">
        <h3>Common Issues v√† Fixes</h3>
        <div class="warning">
          <strong>Issue 1:</strong> N√∫t "ƒê√°nh gi√°" kh√¥ng hi·ªÉn th·ªã <br /><strong
            >Fix:</strong
          >
          Ki·ªÉm tra <code>currentClassroomForMeetings.isRating</code> ph·∫£i l√†
          <code>false</code>
        </div>
        <div class="warning">
          <strong>Issue 2:</strong> Modal kh√¥ng m·ªü <br /><strong>Fix:</strong>
          Ki·ªÉm tra <code>handleOpenRatingModal</code> ƒë∆∞·ª£c g·ªçi v·ªõi ƒë√∫ng
          parameters
        </div>
        <div class="warning">
          <strong>Issue 3:</strong> API call failed <br /><strong>Fix:</strong>
          Ki·ªÉm tra token authorization v√† backend server status
        </div>
      </div>

      <h2><i class="fas fa-check-circle icon"></i>Final Verification</h2>

      <div class="success">
        <h3>Complete Test Checklist</h3>
        <div class="checklist">
          <ul>
            <li>‚òê Rating button hi·ªÉn th·ªã ƒë√∫ng conditional</li>
            <li>‚òê Rating modal functionality ho√†n ch·ªânh</li>
            <li>‚òê Star rating v·ªõi n·ª≠a sao ho·∫°t ƒë·ªông</li>
            <li>‚òê Form validation ƒë·∫ßy ƒë·ªß</li>
            <li>‚òê API integration th√†nh c√¥ng</li>
            <li>‚òê Post-rating state update ch√≠nh x√°c</li>
            <li>‚òê UI/UX responsive v√† smooth</li>
            <li>‚òê Error handling robust</li>
            <li>‚òê Debug logging comprehensive</li>
            <li>‚òê Data persistence sau refresh</li>
          </ul>
        </div>
      </div>

      <div class="step">
        <h3><i class="fas fa-rocket icon"></i>Ready for Production!</h3>
        <p>
          N·∫øu t·∫•t c·∫£ test cases ƒë·ªÅu pass, ch·ª©c nƒÉng rating ƒë√£ s·∫µn s√†ng cho
          production environment.
        </p>
      </div>

      <div class="code">
        // Test script ƒë·ªÉ run automated tests: const testRatingFunction = () =>
        { console.log("üöÄ Starting Student Rating Function Tests..."); // Add
        your automated test scripts here // Can integrate with Jest, Cypress, or
        other testing frameworks console.log("‚úÖ All rating tests completed!");
        };
      </div>
    </div>

    <script>
      // Add interactive functionality for testing
      document.addEventListener("DOMContentLoaded", function () {
        console.log("üåü Student Rating Test Guide Loaded!");
        console.log("üìã Ready to test rating functionality...");

        // Mock rating test function
        window.testRatingModal = function () {
          alert("This would open a test rating modal in the actual app!");
        };

        // Add click handlers for any interactive elements
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        checkboxes.forEach((checkbox) => {
          checkbox.addEventListener("change", function () {
            if (this.checked) {
              console.log(`‚úÖ Test case completed: ${this.id}`);
            }
          });
        });
      });
    </script>
  </body>
</html>
