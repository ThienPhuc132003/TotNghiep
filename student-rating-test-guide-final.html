<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Rating Function - Testing Guide</title>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f8f9fa;
      }
      .container {
        background: white;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      h1 {
        color: #2c5282;
        text-align: center;
        margin-bottom: 30px;
        border-bottom: 3px solid #4299e1;
        padding-bottom: 10px;
      }
      h2 {
        color: #2d3748;
        border-left: 4px solid #4299e1;
        padding-left: 15px;
        margin-top: 25px;
      }
      h3 {
        color: #4a5568;
        margin-top: 20px;
      }
      .step {
        background: #e6fffa;
        border: 1px solid #81e6d9;
        border-radius: 5px;
        padding: 15px;
        margin: 10px 0;
      }
      .warning {
        background: #fef5e7;
        border: 1px solid #f6ad55;
        border-radius: 5px;
        padding: 15px;
        margin: 10px 0;
      }
      .success {
        background: #f0fff4;
        border: 1px solid #68d391;
        border-radius: 5px;
        padding: 15px;
        margin: 10px 0;
      }
      .code {
        background: #2d3748;
        color: #e2e8f0;
        padding: 15px;
        border-radius: 5px;
        font-family: "Courier New", monospace;
        overflow-x: auto;
        margin: 10px 0;
      }
      .icon {
        color: #4299e1;
        margin-right: 8px;
      }
      ul,
      ol {
        margin-left: 20px;
      }
      li {
        margin: 8px 0;
      }
      .checklist {
        background: #f7fafc;
        border: 1px solid #cbd5e0;
        border-radius: 5px;
        padding: 15px;
        margin: 10px 0;
      }
      .btn {
        background: #4299e1;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin: 5px;
        font-size: 14px;
      }
      .btn:hover {
        background: #3182ce;
      }
      .test-section {
        border: 2px solid #e2e8f0;
        border-radius: 8px;
        padding: 20px;
        margin: 20px 0;
        position: relative;
      }
      .test-section::before {
        content: "TEST CASE";
        position: absolute;
        top: -10px;
        left: 20px;
        background: white;
        padding: 0 10px;
        font-weight: bold;
        color: #4299e1;
        font-size: 12px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>ğŸŒŸ Student Rating Function - Complete Testing Guide</h1>

      <div class="success">
        <h3>
          <i class="fas fa-check-circle icon"></i>Implementation Status: âœ…
          COMPLETED
        </h3>
        <p>
          Chá»©c nÄƒng Ä‘Ã¡nh giÃ¡ phÃ²ng há»c cho ngÆ°á»i há»c Ä‘Ã£ Ä‘Æ°á»£c implement hoÃ n
          chá»‰nh vÃ  sáºµn sÃ ng Ä‘á»ƒ test!
        </p>
      </div>

      <h2><i class="fas fa-info-circle icon"></i>Tá»•ng Quan Chá»©c NÄƒng</h2>
      <div class="step">
        <strong>Má»¥c tiÃªu:</strong> Cho phÃ©p ngÆ°á»i há»c Ä‘Ã¡nh giÃ¡ phÃ²ng há»c vá»›i sá»‘
        sao vÃ  mÃ´ táº£ sau khi meeting káº¿t thÃºc. <br /><strong>API:</strong>
        <code>POST classroom-assessment/create/:classroomId</code> <br /><strong
          >Äiá»u kiá»‡n:</strong
        >
        Chá»‰ cho phÃ©p Ä‘Ã¡nh giÃ¡ náº¿u <code>classroom.isRating = false</code>
      </div>

      <h2><i class="fas fa-cog icon"></i>Chuáº©n Bá»‹ Test</h2>

      <div class="test-section">
        <h3>1. Khá»Ÿi Äá»™ng á»¨ng Dá»¥ng</h3>
        <div class="code">
          cd c:\Users\PHUC\Documents\GitHub\TotNghiep npm start
        </div>
        <div class="warning">
          <strong>LÆ°u Ã½:</strong> Äáº£m báº£o backend server Ä‘ang cháº¡y vÃ  cÃ³ data
          test sáºµn
        </div>
      </div>

      <div class="test-section">
        <h3>2. ÄÄƒng Nháº­p Student Account</h3>
        <div class="step">
          <strong>YÃªu cáº§u:</strong> ÄÄƒng nháº­p vá»›i tÃ i khoáº£n student cÃ³ Ã­t nháº¥t 1
          classroom vá»›i meetings <br /><strong>URL:</strong>
          <code>http://localhost:3000/login</code>
        </div>
      </div>

      <h2><i class="fas fa-play-circle icon"></i>Test Cases</h2>

      <div class="test-section">
        <h3>Test Case 1: Navigation to Meeting View</h3>
        <ol>
          <li>
            <strong>VÃ o trang Student Classroom:</strong>
            <code>/student/classrooms</code>
          </li>
          <li>
            <strong>Click nÃºt "Xem phÃ²ng há»c"</strong> cho má»™t classroom báº¥t ká»³
          </li>
          <li>
            <strong>Kiá»ƒm tra:</strong> CÃ³ hiá»ƒn thá»‹ danh sÃ¡ch meetings khÃ´ng?
          </li>
          <li>
            <strong>Expected:</strong> Danh sÃ¡ch meetings hiá»ƒn thá»‹ vá»›i cÃ¡c tabs
            "Äang hoáº¡t Ä‘á»™ng" vÃ  "ÄÃ£ káº¿t thÃºc"
          </li>
        </ol>
        <div class="checklist">
          <strong>Checklist:</strong>
          <ul>
            <li>â˜ Meeting list load thÃ nh cÃ´ng</li>
            <li>â˜ Tabs hiá»ƒn thá»‹ Ä‘Ãºng sá»‘ lÆ°á»£ng</li>
            <li>â˜ Meeting info hiá»ƒn thá»‹ Ä‘áº§y Ä‘á»§ (thá»i gian, tráº¡ng thÃ¡i)</li>
          </ul>
        </div>
      </div>

      <div class="test-section">
        <h3>Test Case 2: Rating Button Display Logic</h3>
        <div class="step">
          <strong>Má»¥c tiÃªu:</strong> Kiá»ƒm tra logic hiá»ƒn thá»‹ nÃºt "ÄÃ¡nh giÃ¡" vs
          "ÄÃ£ Ä‘Ã¡nh giÃ¡"
        </div>
        <ol>
          <li>
            <strong>TÃ¬m meeting chÆ°a Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡</strong> (isRating = false)
          </li>
          <li><strong>Kiá»ƒm tra:</strong> CÃ³ hiá»ƒn thá»‹ nÃºt "ÄÃ¡nh giÃ¡" khÃ´ng?</li>
          <li>
            <strong>TÃ¬m meeting Ä‘Ã£ Ä‘Æ°á»£c Ä‘Ã¡nh giÃ¡</strong> (isRating = true)
          </li>
          <li>
            <strong>Kiá»ƒm tra:</strong> CÃ³ hiá»ƒn thá»‹ sá»‘ sao Ä‘Ã£ Ä‘Ã¡nh giÃ¡ khÃ´ng?
          </li>
        </ol>
        <div class="checklist">
          <strong>Checklist:</strong>
          <ul>
            <li>â˜ NÃºt "ÄÃ¡nh giÃ¡" hiá»ƒn thá»‹ cho meeting chÆ°a Ä‘Ã¡nh giÃ¡</li>
            <li>â˜ Star rating hiá»ƒn thá»‹ cho meeting Ä‘Ã£ Ä‘Ã¡nh giÃ¡</li>
            <li>â˜ Logic conditional rendering Ä‘Ãºng</li>
          </ul>
        </div>
      </div>

      <div class="test-section">
        <h3>Test Case 3: Rating Modal Functionality</h3>
        <ol>
          <li><strong>Click nÃºt "ÄÃ¡nh giÃ¡"</strong> cho má»™t meeting</li>
          <li><strong>Kiá»ƒm tra modal hiá»ƒn thá»‹:</strong></li>
          <ul>
            <li>TiÃªu Ä‘á» "ÄÃ¡nh giÃ¡ phÃ²ng há»c"</li>
            <li>ThÃ´ng tin meeting (topic, tutor, meetingId)</li>
            <li>Star rating selector (5 sao)</li>
            <li>Textarea mÃ´ táº£</li>
            <li>NÃºt "Há»§y" vÃ  "Gá»­i Ä‘Ã¡nh giÃ¡"</li>
          </ul>
          <li><strong>Test star selection:</strong> Click cÃ¡c sao khÃ¡c nhau</li>
          <li>
            <strong>Test half-star:</strong> Click giá»¯a 2 sao Ä‘á»ƒ chá»n ná»­a sao
          </li>
          <li><strong>Nháº­p mÃ´ táº£</strong> trong textarea</li>
        </ol>
        <div class="checklist">
          <strong>Checklist:</strong>
          <ul>
            <li>â˜ Modal má»Ÿ Ä‘Ãºng khi click "ÄÃ¡nh giÃ¡"</li>
            <li>â˜ ThÃ´ng tin meeting hiá»ƒn thá»‹ chÃ­nh xÃ¡c</li>
            <li>â˜ Star rating hoáº¡t Ä‘á»™ng (cáº£ nguyÃªn sao vÃ  ná»­a sao)</li>
            <li>â˜ Textarea nháº­p mÃ´ táº£ hoáº¡t Ä‘á»™ng</li>
            <li>â˜ Character counter hiá»ƒn thá»‹ (0/500)</li>
          </ul>
        </div>
      </div>

      <div class="test-section">
        <h3>Test Case 4: Form Validation</h3>
        <ol>
          <li><strong>Test validation khi chÆ°a chá»n sao:</strong></li>
          <ul>
            <li>Bá» trá»‘ng star rating</li>
            <li>Nháº­p mÃ´ táº£</li>
            <li>Click "Gá»­i Ä‘Ã¡nh giÃ¡"</li>
            <li>
              <strong>Expected:</strong> Hiá»ƒn thá»‹ error "Vui lÃ²ng chá»n sá»‘ sao
              Ä‘Ã¡nh giÃ¡!"
            </li>
          </ul>
          <li><strong>Test validation khi chÆ°a nháº­p mÃ´ táº£:</strong></li>
          <ul>
            <li>Chá»n sá»‘ sao</li>
            <li>Bá» trá»‘ng mÃ´ táº£</li>
            <li>Click "Gá»­i Ä‘Ã¡nh giÃ¡"</li>
            <li>
              <strong>Expected:</strong> Hiá»ƒn thá»‹ error "Vui lÃ²ng nháº­p mÃ´ táº£
              Ä‘Ã¡nh giÃ¡!"
            </li>
          </ul>
          <li><strong>Test button disabled state:</strong></li>
          <ul>
            <li>Button "Gá»­i Ä‘Ã¡nh giÃ¡" pháº£i disable khi validation fails</li>
          </ul>
        </ol>
        <div class="checklist">
          <strong>Checklist:</strong>
          <ul>
            <li>â˜ Validation star rating hoáº¡t Ä‘á»™ng</li>
            <li>â˜ Validation mÃ´ táº£ hoáº¡t Ä‘á»™ng</li>
            <li>â˜ Button disabled state Ä‘Ãºng</li>
            <li>â˜ Toast error messages hiá»ƒn thá»‹</li>
          </ul>
        </div>
      </div>

      <div class="test-section">
        <h3>Test Case 5: API Integration</h3>
        <div class="warning">
          <strong>Quan trá»ng:</strong> Má»Ÿ Developer Tools > Network tab trÆ°á»›c
          khi test
        </div>
        <ol>
          <li><strong>Äiá»n form há»£p lá»‡:</strong></li>
          <ul>
            <li>Chá»n sá»‘ sao (vÃ­ dá»¥: 4.5 sao)</li>
            <li>Nháº­p mÃ´ táº£ (vÃ­ dá»¥: "Gia sÆ° dáº¡y ráº¥t tá»‘t, nhiá»‡t tÃ¬nh")</li>
          </ul>
          <li><strong>Click "Gá»­i Ä‘Ã¡nh giÃ¡"</strong></li>
          <li><strong>Kiá»ƒm tra Network tab:</strong></li>
          <ul>
            <li>
              Request URL:
              <code>POST /classroom-assessment/create/:classroomId</code>
            </li>
            <li>Headers: Authorization vá»›i Bearer token</li>
            <li>
              Payload:
              <code
                >{ tutorId, classroomEvaluation: 4.5, description: "...",
                meetingId }</code
              >
            </li>
          </ul>
          <li><strong>Kiá»ƒm tra response vÃ  UI:</strong></li>
          <ul>
            <li>
              Success: Modal Ä‘Ã³ng + Toast success + Classroom list refresh
            </li>
            <li>Error: Toast error message + Modal váº«n má»Ÿ</li>
          </ul>
        </ol>
        <div class="checklist">
          <strong>Checklist:</strong>
          <ul>
            <li>â˜ API call vá»›i Ä‘Ãºng endpoint</li>
            <li>â˜ Payload structure chÃ­nh xÃ¡c</li>
            <li>â˜ Authorization header Ä‘Ãºng</li>
            <li>â˜ Success case: Modal Ä‘Ã³ng + Toast + Refresh</li>
            <li>â˜ Error case: Toast error + Modal má»Ÿ</li>
          </ul>
        </div>
      </div>

      <div class="test-section">
        <h3>Test Case 6: Post-Rating State</h3>
        <ol>
          <li>
            <strong>Sau khi rating thÃ nh cÃ´ng</strong>, quay láº¡i meeting view
          </li>
          <li><strong>Kiá»ƒm tra meeting vá»«a Ä‘Ã¡nh giÃ¡:</strong></li>
          <ul>
            <li>NÃºt "ÄÃ¡nh giÃ¡" Ä‘Ã£ biáº¿n máº¥t</li>
            <li>Hiá»ƒn thá»‹ star rating vá»›i sá»‘ sao Ä‘Ã£ chá»n</li>
            <li>Text "ÄÃ£ Ä‘Ã¡nh giÃ¡: X.X sao"</li>
          </ul>
          <li><strong>Test refresh page:</strong> F5 Ä‘á»ƒ reload</li>
          <li>
            <strong>Kiá»ƒm tra:</strong> Tráº¡ng thÃ¡i Ä‘Ã£ Ä‘Ã¡nh giÃ¡ váº«n Ä‘Æ°á»£c giá»¯
          </li>
        </ol>
        <div class="checklist">
          <strong>Checklist:</strong>
          <ul>
            <li>â˜ NÃºt "ÄÃ¡nh giÃ¡" biáº¿n máº¥t sau rating</li>
            <li>â˜ Star display hiá»ƒn thá»‹ Ä‘Ãºng sá»‘ sao</li>
            <li>â˜ State persist sau refresh</li>
            <li>â˜ isRating flag Ä‘Æ°á»£c update</li>
          </ul>
        </div>
      </div>

      <h2><i class="fas fa-bug icon"></i>Debug vÃ  Troubleshooting</h2>

      <div class="test-section">
        <h3>Console Debug Messages</h3>
        <div class="code">
          // Má»Ÿ Console Ä‘á»ƒ xem debug logs: ğŸ” RATING BUTTON CLICKED: { meeting,
          classroom, isRating } ğŸ” RATING DEBUG - Opening rating modal: {
          meetingId, classroomId, tutorId } ğŸ” RATING DEBUG - Submitting rating:
          { tutorId, classroomEvaluation, description, meetingId } ğŸ” RATING
          DEBUG - Rating response: { success, data }
        </div>
      </div>

      <div class="test-section">
        <h3>Common Issues vÃ  Fixes</h3>
        <div class="warning">
          <strong>Issue 1:</strong> NÃºt "ÄÃ¡nh giÃ¡" khÃ´ng hiá»ƒn thá»‹ <br /><strong
            >Fix:</strong
          >
          Kiá»ƒm tra <code>currentClassroomForMeetings.isRating</code> pháº£i lÃ 
          <code>false</code>
        </div>
        <div class="warning">
          <strong>Issue 2:</strong> Modal khÃ´ng má»Ÿ <br /><strong>Fix:</strong>
          Kiá»ƒm tra <code>handleOpenRatingModal</code> Ä‘Æ°á»£c gá»i vá»›i Ä‘Ãºng
          parameters
        </div>
        <div class="warning">
          <strong>Issue 3:</strong> API call failed <br /><strong>Fix:</strong>
          Kiá»ƒm tra token authorization vÃ  backend server status
        </div>
      </div>

      <h2><i class="fas fa-check-circle icon"></i>Final Verification</h2>

      <div class="success">
        <h3>Complete Test Checklist</h3>
        <div class="checklist">
          <ul>
            <li>â˜ Rating button hiá»ƒn thá»‹ Ä‘Ãºng conditional</li>
            <li>â˜ Rating modal functionality hoÃ n chá»‰nh</li>
            <li>â˜ Star rating vá»›i ná»­a sao hoáº¡t Ä‘á»™ng</li>
            <li>â˜ Form validation Ä‘áº§y Ä‘á»§</li>
            <li>â˜ API integration thÃ nh cÃ´ng</li>
            <li>â˜ Post-rating state update chÃ­nh xÃ¡c</li>
            <li>â˜ UI/UX responsive vÃ  smooth</li>
            <li>â˜ Error handling robust</li>
            <li>â˜ Debug logging comprehensive</li>
            <li>â˜ Data persistence sau refresh</li>
          </ul>
        </div>
      </div>

      <div class="step">
        <h3><i class="fas fa-rocket icon"></i>Ready for Production!</h3>
        <p>
          Náº¿u táº¥t cáº£ test cases Ä‘á»u pass, chá»©c nÄƒng rating Ä‘Ã£ sáºµn sÃ ng cho
          production environment.
        </p>
      </div>

      <div class="code">
        // Test script Ä‘á»ƒ run automated tests: const testRatingFunction = () =>
        { console.log("ğŸš€ Starting Student Rating Function Tests..."); // Add
        your automated test scripts here // Can integrate with Jest, Cypress, or
        other testing frameworks console.log("âœ… All rating tests completed!");
        };
      </div>
    </div>

    <script>
      // Add interactive functionality for testing
      document.addEventListener("DOMContentLoaded", function () {
        console.log("ğŸŒŸ Student Rating Test Guide Loaded!");
        console.log("ğŸ“‹ Ready to test rating functionality...");

        // Mock rating test function
        window.testRatingModal = function () {
          alert("This would open a test rating modal in the actual app!");
        };

        // Add click handlers for any interactive elements
        const checkboxes = document.querySelectorAll('input[type="checkbox"]');
        checkboxes.forEach((checkbox) => {
          checkbox.addEventListener("change", function () {
            if (this.checked) {
              console.log(`âœ… Test case completed: ${this.id}`);
            }
          });
        });
      });
    </script>
  </body>
</html>
